import{r as Qu}from"./tslib-DWL4nlhP.js";import{r as es}from"./react-DszLFPtG.js";import{r as ns}from"./hey-listen-DQI87Kmj.js";import{v as ts}from"./style-value-types-CX_osMP7.js";import{p as rs}from"./popmotion-O_1Jfs3J.js";import{f as as}from"./framesync-DhFHr8mH.js";import{g as is}from"./index-y3Xk9KRP.js";var os={};function us(S){var f={};return function(P){return f[P]===void 0&&(f[P]=S(P)),f[P]}}var ss=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fs=us(function(S){return ss.test(S)||S.charCodeAt(0)===111&&S.charCodeAt(1)===110&&S.charCodeAt(2)<91});const ls=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),cs=is(ls);(function(S){Object.defineProperty(S,"__esModule",{value:!0});var f=Qu,P=es,G=ns,x=ts,V=rs,U=as;function qn(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Sa(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,Object.freeze(n)}var F=Sa(P),$n=qn(P),$=qn(U),ne=function(e){return{isEnabled:function(n){return e.some(function(t){return!!n[t]})}}},ln={measureLayout:ne(["layout","layoutId","drag","_layoutResetTransform"]),animation:ne(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:ne(["exit"]),drag:ne(["drag","dragControls"]),focus:ne(["whileFocus"]),hover:ne(["whileHover","onHoverStart","onHoverEnd"]),tap:ne(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ne(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:ne(["layout","layoutId"])};function cn(e){for(var n in e){var t=e[n];t!==null&&(ln[n].Component=t)}}var dn=P.createContext({strict:!1}),Jn=Object.keys(ln),Ca=Jn.length;function Ta(e,n,t){var r=[];if(P.useContext(dn),!n)return null;for(var a=0;a<Ca;a++){var i=Jn[a],o=ln[i],u=o.isEnabled,d=o.Component;u(e)&&d&&r.push(F.createElement(d,f.__assign({key:i},e,{visualElement:n})))}return r}var te=P.createContext({transformPagePoint:function(e){return e},isStatic:!1}),Se=P.createContext({});function Qn(){return P.useContext(Se).visualElement}var ue=P.createContext(null);function K(e){var n=P.useRef(null);return n.current===null&&(n.current=e()),n.current}function vn(){var e=P.useContext(ue);if(e===null)return[!0,null];var n=e.isPresent,t=e.onExitComplete,r=e.register,a=La();P.useEffect(function(){return r(a)},[]);var i=function(){return t==null?void 0:t(a)};return!n&&t?[!1,i]:[!0]}function Aa(){return et(P.useContext(ue))}function et(e){return e===null?!0:e.isPresent}var Va=0,Ea=function(){return Va++},La=function(){return K(Ea)},nt=P.createContext(null),Ce=typeof window<"u",Ie=Ce?P.useLayoutEffect:P.useEffect;function wa(e){var n=e.layoutId,t=P.useContext(nt);return t&&n!==void 0?t+"-"+n:n}function Ma(e,n,t,r){var a=P.useContext(te),i=P.useContext(dn),o=Qn(),u=P.useContext(ue),d=wa(t),l=P.useRef(void 0);r||(r=i.renderer),!l.current&&r&&(l.current=r(e,{visualState:n,parent:o,props:f.__assign(f.__assign({},t),{layoutId:d}),presenceId:u==null?void 0:u.id,blockInitialAnimation:(u==null?void 0:u.initial)===!1}));var s=l.current;return Ie(function(){s&&(s.setProps(f.__assign(f.__assign(f.__assign({},a),t),{layoutId:d})),s.isPresent=et(u),s.isPresenceRoot=!o||o.presenceId!==(u==null?void 0:u.id),s.syncRender())}),P.useEffect(function(){var p;s&&((p=s.animationState)===null||p===void 0||p.animateChanges())}),Ie(function(){return function(){return s==null?void 0:s.notifyUnmount()}},[]),s}function pn(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ra(e,n,t){return P.useCallback(function(r){var a;r&&((a=e.mount)===null||a===void 0||a.call(e,r)),n&&(r?n.mount(r):n.unmount()),t&&(typeof t=="function"?t(r):pn(t)&&(t.current=r))},[n])}function tt(e){return Array.isArray(e)}function J(e){return typeof e=="string"||tt(e)}function Da(e){var n={};return e.forEachValue(function(t,r){return n[r]=t.get()}),n}function Oa(e){var n={};return e.forEachValue(function(t,r){return n[r]=t.getVelocity()}),n}function rt(e,n,t,r,a){var i;return r===void 0&&(r={}),a===void 0&&(a={}),typeof n=="string"&&(n=(i=e.variants)===null||i===void 0?void 0:i[n]),typeof n=="function"?n(t??e.custom,r,a):n}function Fe(e,n,t){var r=e.getProps();return rt(r,n,t??r.custom,Da(e),Oa(e))}function Be(e){var n;return typeof((n=e.animate)===null||n===void 0?void 0:n.start)=="function"||J(e.initial)||J(e.animate)||J(e.whileHover)||J(e.whileDrag)||J(e.whileTap)||J(e.whileFocus)||J(e.exit)}function at(e){return!!(Be(e)||e.variants)}function Ia(e,n){if(Be(e)){var t=e.initial,r=e.animate;return{initial:t===!1||J(t)?t:void 0,animate:J(r)?r:void 0}}return e.inherit!==!1?n:{}}function Fa(e,n){var t=Ia(e,P.useContext(Se)),r=t.initial,a=t.animate;return P.useMemo(function(){return{initial:r,animate:a}},n?[it(r),it(a)]:[])}function it(e){return Array.isArray(e)?e.join(" "):e}function mn(e){var n=e.preloadedFeatures,t=e.createVisualElement,r=e.useRender,a=e.useVisualState,i=e.Component;n&&cn(n);function o(u,d){var l=P.useContext(te).isStatic,s=null,p=Fa(u,l),c=a(u,l);return!l&&Ce&&(p.visualElement=Ma(i,c,u,t),s=Ta(u,p.visualElement)),F.createElement(F.Fragment,null,F.createElement(Se.Provider,{value:p},r(i,u,Ra(c,p.visualElement,d),c,l)),s)}return P.forwardRef(o)}function ot(e){function n(r,a){return a===void 0&&(a={}),mn(e(r,a))}var t=new Map;return new Proxy(n,{get:function(r,a){return t.has(a)||t.set(a,n(a)),t.get(a)}})}var Ba=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function gn(e){return typeof e!="string"||e.includes("-")?!1:!!(Ba.indexOf(e)>-1||/[A-Z]/.test(e))}var Te={};function ut(e){for(var n in e)Te[n]=e[n]}var hn=["","X","Y","Z"],ja=["translate","scale","rotate","skew"],Ae=["transformPerspective","x","y","z"];ja.forEach(function(e){return hn.forEach(function(n){return Ae.push(e+n)})});function Ua(e,n){return Ae.indexOf(e)-Ae.indexOf(n)}var Ha=new Set(Ae);function je(e){return Ha.has(e)}var ka=new Set(["originX","originY","originZ"]);function st(e){return ka.has(e)}function ft(e,n){var t=n.layout,r=n.layoutId;return je(e)||st(e)||(t||r!==void 0)&&(!!Te[e]||e==="opacity")}var Q=function(e){return e!==null&&typeof e=="object"&&e.getVelocity},za={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Xa(e,n,t,r){var a=e.transform,i=e.transformKeys,o=n.enableHardwareAcceleration,u=o===void 0?!0:o,d=n.allowTransformNone,l=d===void 0?!0:d,s="";i.sort(Ua);for(var p=!1,c=i.length,m=0;m<c;m++){var v=i[m];s+=(za[v]||v)+"("+a[v]+") ",v==="z"&&(p=!0)}return!p&&u?s+="translateZ(0)":s=s.trim(),r?s=r(a,t?"":s):l&&t&&(s="none"),s}function Ya(e){var n=e.originX,t=n===void 0?"50%":n,r=e.originY,a=r===void 0?"50%":r,i=e.originZ,o=i===void 0?0:i;return t+" "+a+" "+o}function lt(e){return e.startsWith("--")}var Na=function(e,n){return n&&typeof e=="number"?n.transform(e):e},ct=f.__assign(f.__assign({},x.number),{transform:Math.round}),dt={borderWidth:x.px,borderTopWidth:x.px,borderRightWidth:x.px,borderBottomWidth:x.px,borderLeftWidth:x.px,borderRadius:x.px,radius:x.px,borderTopLeftRadius:x.px,borderTopRightRadius:x.px,borderBottomRightRadius:x.px,borderBottomLeftRadius:x.px,width:x.px,maxWidth:x.px,height:x.px,maxHeight:x.px,size:x.px,top:x.px,right:x.px,bottom:x.px,left:x.px,padding:x.px,paddingTop:x.px,paddingRight:x.px,paddingBottom:x.px,paddingLeft:x.px,margin:x.px,marginTop:x.px,marginRight:x.px,marginBottom:x.px,marginLeft:x.px,rotate:x.degrees,rotateX:x.degrees,rotateY:x.degrees,rotateZ:x.degrees,scale:x.scale,scaleX:x.scale,scaleY:x.scale,scaleZ:x.scale,skew:x.degrees,skewX:x.degrees,skewY:x.degrees,distance:x.px,translateX:x.px,translateY:x.px,translateZ:x.px,x:x.px,y:x.px,z:x.px,perspective:x.px,transformPerspective:x.px,opacity:x.alpha,originX:x.progressPercentage,originY:x.progressPercentage,originZ:x.px,zIndex:ct,fillOpacity:x.alpha,strokeOpacity:x.alpha,numOctaves:ct};function yn(e,n,t,r,a,i,o,u){var d,l=e.style,s=e.vars,p=e.transform,c=e.transformKeys,m=e.transformOrigin;c.length=0;var v=!1,y=!1,g=!0;for(var _ in n){var T=n[_];if(lt(_)){s[_]=T;continue}var L=dt[_],O=Na(T,L);if(je(_)){if(v=!0,p[_]=O,c.push(_),!g)continue;T!==((d=L.default)!==null&&d!==void 0?d:0)&&(g=!1)}else if(st(_))m[_]=O,y=!0;else if(t!=null&&t.isHydrated&&(r!=null&&r.isHydrated)&&Te[_]){var w=Te[_].process(T,r,t),A=Te[_].applyTo;if(A)for(var R=A.length,M=0;M<R;M++)l[A[M]]=w;else l[_]=w}else l[_]=O}r&&t&&o&&u?(l.transform=o(r.deltaFinal,r.treeScale,v?p:void 0),i&&(l.transform=i(p,l.transform)),l.transformOrigin=u(r)):(v&&(l.transform=Xa(e,a,g,i)),y&&(l.transformOrigin=Ya(m)))}var xn=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function vt(e,n,t){for(var r in n)!Q(n[r])&&!ft(r,t)&&(e[r]=n[r])}function Ka(e,n,t){var r=e.transformTemplate;return P.useMemo(function(){var a=xn();yn(a,n,void 0,void 0,{enableHardwareAcceleration:!t},r);var i=a.vars,o=a.style;return f.__assign(f.__assign({},i),o)},[n])}function Wa(e,n,t){var r=e.style||{},a={};return vt(a,r,e),Object.assign(a,Ka(e,n,t)),e.transformValues&&(a=e.transformValues(a)),a}function Ga(e,n,t){var r={},a=Wa(e,n,t);return e.drag&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":"pan-"+(e.drag==="x"?"y":"x")),r.style=a,r}var Za=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Ve(e){return Za.has(e)}var pt=function(e){return!Ve(e)};try{var qa=cs.default;pt=function(e){return e.startsWith("on")?!Ve(e):qa(e)}}catch{}function $a(e,n,t){var r={};for(var a in e)(pt(a)||t===!0&&Ve(a)||!n&&!Ve(a))&&(r[a]=e[a]);return r}function mt(e,n,t){return typeof e=="string"?e:x.px.transform(n+t*e)}function Ja(e,n,t){var r=mt(n,e.x,e.width),a=mt(t,e.y,e.height);return r+" "+a}var _n=function(e,n){return x.px.transform(e*n)},Qa={offset:"strokeDashoffset",array:"strokeDasharray"};function ei(e,n,t,r,a,i){r===void 0&&(r=1),a===void 0&&(a=0);var o=Qa;e[o.offset]=_n(-a,n);var u=_n(t,n),d=_n(r,n);e[o.array]=u+" "+d}function Pn(e,n,t,r,a,i,o,u){var d=n.attrX,l=n.attrY,s=n.originX,p=n.originY,c=n.pathLength,m=n.pathSpacing,v=m===void 0?1:m,y=n.pathOffset,g=y===void 0?0:y,_=f.__rest(n,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);yn(e,_,t,r,a,i,o,u),e.attrs=e.style,e.style={};var T=e.attrs,L=e.style,O=e.dimensions,w=e.totalPathLength;T.transform&&(O&&(L.transform=T.transform),delete T.transform),O&&(s!==void 0||p!==void 0||L.transform)&&(L.transformOrigin=Ja(O,s!==void 0?s:.5,p!==void 0?p:.5)),d!==void 0&&(T.x=d),l!==void 0&&(T.y=l),w!==void 0&&c!==void 0&&ei(T,w,c,v,g)}var gt=function(){return f.__assign(f.__assign({},xn()),{attrs:{}})};function ni(e,n){var t=P.useMemo(function(){var a=gt();return Pn(a,n,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),f.__assign(f.__assign({},a.attrs),{style:f.__assign({},a.style)})},[n]);if(e.style){var r={};vt(r,e.style,e),t.style=f.__assign(f.__assign({},r),t.style)}return t}function ti(e){e===void 0&&(e=!1);var n=function(t,r,a,i,o){var u=i.latestValues,d=gn(t)?ni:Ga,l=d(r,u,o),s=$a(r,typeof t=="string",e),p=f.__assign(f.__assign(f.__assign({},s),l),{ref:a});return P.createElement(t,p)};return n}var ri=/([a-z])([A-Z])/g,ai="$1-$2",ht=function(e){return e.replace(ri,ai).toLowerCase()};function yt(e,n){var t=n.style,r=n.vars;Object.assign(e.style,t);for(var a in r)e.style.setProperty(a,r[a])}var xt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function _t(e,n){yt(e,n);for(var t in n.attrs)e.setAttribute(xt.has(t)?t:ht(t),n.attrs[t])}function bn(e){var n=e.style,t={};for(var r in n)(Q(n[r])||ft(r,e))&&(t[r]=n[r]);return t}function Pt(e){var n=bn(e);for(var t in e)if(Q(e[t])){var r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;n[r]=e[t]}return n}function Sn(e){return typeof e=="object"&&typeof e.start=="function"}var Ee=function(e){return Array.isArray(e)},ii=function(e){return!!(e&&typeof e=="object"&&e.mix&&e.toValue)},oi=function(e){return Ee(e)?e[e.length-1]||0:e};function bt(e){var n=Q(e)?e.get():e;return ii(n)?n.toValue():n}function St(e,n,t,r){var a=e.scrapeMotionValuesFromProps,i=e.createRenderState,o=e.onMount,u={latestValues:ui(n,t,r,a),renderState:i()};return o&&(u.mount=function(d){return o(n,d,u)}),u}var Cn=function(e){return function(n,t){var r=P.useContext(Se),a=P.useContext(ue);return t?St(e,n,r,a):K(function(){return St(e,n,r,a)})}};function ui(e,n,t,r){var a={},i=(t==null?void 0:t.initial)===!1,o=r(e);for(var u in o)a[u]=bt(o[u]);var d=e.initial,l=e.animate,s=Be(e),p=at(e);n&&p&&!s&&e.inherit!==!1&&(d??(d=n.initial),l??(l=n.animate));var c=i||d===!1?l:d;if(c&&typeof c!="boolean"&&!Sn(c)){var m=Array.isArray(c)?c:[c];m.forEach(function(v){var y=rt(e,v);if(y){var g=y.transitionEnd;y.transition;var _=f.__rest(y,["transitionEnd","transition"]);for(var T in _)a[T]=_[T];for(var T in g)a[T]=g[T]}})}return a}var si={useVisualState:Cn({scrapeMotionValuesFromProps:Pt,createRenderState:gt,onMount:function(e,n,t){var r=t.renderState,a=t.latestValues;try{r.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}fi(n)&&(r.totalPathLength=n.getTotalLength()),Pn(r,a,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),_t(n,r)}})};function fi(e){return e.tagName==="path"}var li={useVisualState:Cn({scrapeMotionValuesFromProps:bn,createRenderState:xn})};function Tn(e,n,t,r){var a=n.forwardMotionProps,i=a===void 0?!1:a,o=gn(e)?si:li;return f.__assign(f.__assign({},o),{preloadedFeatures:t,useRender:ti(i),createVisualElement:r,Component:e})}var I;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"})(I||(I={}));function se(e,n,t,r){return e.addEventListener(n,t,r),function(){return e.removeEventListener(n,t,r)}}function Ue(e,n,t,r){P.useEffect(function(){var a=e.current;if(t&&a)return se(a,n,t,r)},[e,n,t,r])}function ci(e){var n=e.whileFocus,t=e.visualElement,r=function(){var i;(i=t.animationState)===null||i===void 0||i.setActive(I.Focus,!0)},a=function(){var i;(i=t.animationState)===null||i===void 0||i.setActive(I.Focus,!1)};Ue(t,"focus",n?r:void 0),Ue(t,"blur",n?a:void 0)}function Ct(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function Tt(e){var n=!!e.touches;return n}function di(e){return function(n){var t=n instanceof MouseEvent,r=!t||t&&n.button===0;r&&e(n)}}var vi={pageX:0,pageY:0};function pi(e,n){n===void 0&&(n="page");var t=e.touches[0]||e.changedTouches[0],r=t||vi;return{x:r[n+"X"],y:r[n+"Y"]}}function mi(e,n){return n===void 0&&(n="page"),{x:e[n+"X"],y:e[n+"Y"]}}function An(e,n){return n===void 0&&(n="page"),{point:Tt(e)?pi(e,n):mi(e,n)}}function gi(e){return An(e,"client")}var At=function(e,n){n===void 0&&(n=!1);var t=function(r){return e(r,An(r))};return n?di(t):t},hi=function(){return Ce&&window.onpointerdown===null},yi=function(){return Ce&&window.ontouchstart===null},xi=function(){return Ce&&window.onmousedown===null},_i={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Pi={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Vt(e){return hi()?e:yi()?Pi[e]:xi()?_i[e]:e}function he(e,n,t,r){return se(e,Vt(n),At(t,n==="pointerdown"),r)}function He(e,n,t,r){return Ue(e,Vt(n),t&&At(t,n==="pointerdown"),r)}function Et(e){var n=null;return function(){var t=function(){n=null};return n===null?(n=e,t):!1}}var Lt=Et("dragHorizontal"),wt=Et("dragVertical");function Mt(e){var n=!1;if(e==="y")n=wt();else if(e==="x")n=Lt();else{var t=Lt(),r=wt();t&&r?n=function(){t(),r()}:(t&&t(),r&&r())}return n}function Rt(){var e=Mt(!0);return e?(e(),!1):!0}function Dt(e,n,t){return function(r,a){var i;!Ct(r)||Rt()||(t==null||t(r,a),(i=e.animationState)===null||i===void 0||i.setActive(I.Hover,n))}}function bi(e){var n=e.onHoverStart,t=e.onHoverEnd,r=e.whileHover,a=e.visualElement;He(a,"pointerenter",n||r?Dt(a,!0,n):void 0),He(a,"pointerleave",t||r?Dt(a,!1,t):void 0)}var Ot=function(e,n){return n?e===n?!0:Ot(e,n.parentElement):!1};function Vn(e){return P.useEffect(function(){return function(){return e()}},[])}function Si(e){var n=e.onTap,t=e.onTapStart,r=e.onTapCancel,a=e.whileTap,i=e.visualElement,o=n||t||r||a,u=P.useRef(!1),d=P.useRef(null);function l(){var v;(v=d.current)===null||v===void 0||v.call(d),d.current=null}function s(){var v;return l(),u.current=!1,(v=i.animationState)===null||v===void 0||v.setActive(I.Tap,!1),!Rt()}function p(v,y){s()&&(Ot(i.getInstance(),v.target)?n==null||n(v,y):r==null||r(v,y))}function c(v,y){s()&&(r==null||r(v,y))}function m(v,y){var g;l(),!u.current&&(u.current=!0,d.current=V.pipe(he(window,"pointerup",p),he(window,"pointercancel",c)),t==null||t(v,y),(g=i.animationState)===null||g===void 0||g.setActive(I.Tap,!0))}He(i,"pointerdown",o?m:void 0),Vn(l)}var fe=function(e){return function(n){return e(n),null}},It={tap:fe(Si),focus:fe(ci),hover:fe(bi)};function Ft(e,n){if(!Array.isArray(n))return!1;var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}var ke=function(e){return e*1e3},Bt={linear:V.linear,easeIn:V.easeIn,easeInOut:V.easeInOut,easeOut:V.easeOut,circIn:V.circIn,circInOut:V.circInOut,circOut:V.circOut,backIn:V.backIn,backInOut:V.backInOut,backOut:V.backOut,anticipate:V.anticipate,bounceIn:V.bounceIn,bounceInOut:V.bounceInOut,bounceOut:V.bounceOut},jt=function(e){if(Array.isArray(e)){G.invariant(e.length===4,"Cubic bezier arrays must contain four numerical values.");var n=f.__read(e,4),t=n[0],r=n[1],a=n[2],i=n[3];return V.cubicBezier(t,r,a,i)}else if(typeof e=="string")return G.invariant(Bt[e]!==void 0,"Invalid easing type '"+e+"'"),Bt[e];return e},Ci=function(e){return Array.isArray(e)&&typeof e[0]!="number"},Ut=function(e,n){return e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&x.complex.test(n)&&!n.startsWith("url("))},le=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},ze=function(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},En=function(){return{type:"keyframes",ease:"linear",duration:.3}},Ti=function(e){return{type:"keyframes",duration:.8,values:e}},Ht={x:le,y:le,z:le,rotate:le,rotateX:le,rotateY:le,rotateZ:le,scaleX:ze,scaleY:ze,scale:ze,opacity:En,backgroundColor:En,color:En,default:ze},Ai=function(e,n){var t;return Ee(n)?t=Ti:t=Ht[e]||Ht.default,f.__assign({to:n},t(n))},Vi=f.__assign(f.__assign({},dt),{color:x.color,backgroundColor:x.color,outlineColor:x.color,fill:x.color,stroke:x.color,borderColor:x.color,borderTopColor:x.color,borderRightColor:x.color,borderBottomColor:x.color,borderLeftColor:x.color,filter:x.filter,WebkitFilter:x.filter}),Ln=function(e){return Vi[e]};function wn(e,n){var t,r=Ln(e);return r!==x.filter&&(r=x.complex),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,n)}function Ei(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var n=f.__rest(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(n).length}var kt=!1;function Li(e){var n=e.ease,t=e.times,r=e.yoyo,a=e.flip,i=e.loop,o=f.__rest(e,["ease","times","yoyo","flip","loop"]),u=f.__assign({},o);return t&&(u.offset=t),o.duration&&(u.duration=ke(o.duration)),o.repeatDelay&&(u.repeatDelay=ke(o.repeatDelay)),n&&(u.ease=Ci(n)?n.map(jt):jt(n)),o.type==="tween"&&(u.type="keyframes"),(r||i||a)&&(G.warning(!kt,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),kt=!0,r?u.repeatType="reverse":i?u.repeatType="loop":a&&(u.repeatType="mirror"),u.repeat=i||r||a||o.repeat),o.type!=="spring"&&(u.type="keyframes"),u}function wi(e,n){var t,r=Xe(e,n)||{};return(t=r.delay)!==null&&t!==void 0?t:0}function Mi(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=f.__spreadArray([],f.__read(e.to)),e.to[0]=e.from),e}function Ri(e,n,t){var r;return Array.isArray(n.to)&&((r=e.duration)!==null&&r!==void 0||(e.duration=.8)),Mi(n),Ei(e)||(e=f.__assign(f.__assign({},e),Ai(t,n.to))),f.__assign(f.__assign({},n),Li(e))}function Di(e,n,t,r,a){var i,o=Xe(r,e),u=(i=o.from)!==null&&i!==void 0?i:n.get(),d=Ut(e,t);u==="none"&&d&&typeof t=="string"?u=wn(e,t):zt(u)&&typeof t=="string"?u=Xt(t):!Array.isArray(t)&&zt(t)&&typeof u=="string"&&(t=Xt(u));var l=Ut(e,u);G.warning(l===d,"You are trying to animate "+e+' from "'+u+'" to "'+t+'". '+u+" is not an animatable value - to enable this animation set "+u+" to a value animatable to "+t+" via the `style` property.");function s(){var c={from:u,to:t,velocity:n.getVelocity(),onComplete:a,onUpdate:function(m){return n.set(m)}};return o.type==="inertia"||o.type==="decay"?V.inertia(f.__assign(f.__assign({},c),o)):V.animate(f.__assign(f.__assign({},Ri(o,c,e)),{onUpdate:function(m){var v;c.onUpdate(m),(v=o.onUpdate)===null||v===void 0||v.call(o,m)},onComplete:function(){var m;c.onComplete(),(m=o.onComplete)===null||m===void 0||m.call(o)}}))}function p(){var c;return n.set(t),a(),(c=o==null?void 0:o.onComplete)===null||c===void 0||c.call(o),{stop:function(){}}}return!l||!d||o.type===!1?p:s}function zt(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function Xt(e){return typeof e=="number"?0:wn("",e)}function Xe(e,n){return e[n]||e.default||e}function Le(e,n,t,r){return r===void 0&&(r={}),n.start(function(a){var i,o,u=Di(e,n,t,r,a),d=wi(r,e),l=function(){return o=u()};return d?i=setTimeout(l,ke(d)):l(),function(){clearTimeout(i),o==null||o.stop()}})}var Oi=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Yt(e,n){e.indexOf(n)===-1&&e.push(n)}function Nt(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}var Ye=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(n){var t=this;return Yt(this.subscriptions,n),function(){return Nt(t.subscriptions,n)}},e.prototype.notify=function(n,t,r){var a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](n,t,r);else for(var i=0;i<a;i++){var o=this.subscriptions[i];o&&o(n,t,r)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Ii=function(e){return!isNaN(parseFloat(e))},Kt=function(){function e(n){var t=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ye,this.velocityUpdateSubscribers=new Ye,this.renderSubscribers=new Ye,this.canTrackVelocity=!1,this.updateAndNotify=function(r,a){a===void 0&&(a=!0),t.prev=t.current,t.current=r;var i=U.getFrameData(),o=i.delta,u=i.timestamp;t.lastUpdated!==u&&(t.timeDelta=o,t.lastUpdated=u,$.default.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),a&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return $.default.postRender(t.velocityCheck)},this.velocityCheck=function(r){var a=r.timestamp;a!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=n,this.canTrackVelocity=Ii(this.current)}return e.prototype.onChange=function(n){return this.updateSubscribers.add(n)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(n){return n(this.get()),this.renderSubscribers.add(n)},e.prototype.attach=function(n){this.passiveEffect=n},e.prototype.set=function(n,t){t===void 0&&(t=!0),!t||!this.passiveEffect?this.updateAndNotify(n,t):this.passiveEffect(n,this.updateAndNotify)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?V.velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(n){var t=this;return this.stop(),new Promise(function(r){t.hasAnimated=!0,t.stopAnimation=n(r)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function k(e){return new Kt(e)}var Wt=function(e){return function(n){return n.test(e)}},Fi={test:function(e){return e==="auto"},parse:function(e){return e}},Gt=[x.number,x.px,x.percent,x.degrees,x.vw,x.vh,Fi],Ne=function(e){return Gt.find(Wt(e))},Bi=f.__spreadArray(f.__spreadArray([],f.__read(Gt)),[x.color,x.complex]),ji=function(e){return Bi.find(Wt(e))};function Ui(e,n,t){e.hasValue(n)?e.getValue(n).set(t):e.addValue(n,k(t))}function Mn(e,n){var t=Fe(e,n),r=t?e.makeTargetAnimatable(t,!1):{},a=r.transitionEnd,i=a===void 0?{}:a;r.transition;var o=f.__rest(r,["transitionEnd","transition"]);o=f.__assign(f.__assign({},o),i);for(var u in o){var d=oi(o[u]);Ui(e,u,d)}}function Rn(e,n){var t=f.__spreadArray([],f.__read(n)).reverse();t.forEach(function(r){var a,i=e.getVariant(r);i&&Mn(e,i),(a=e.variantChildren)===null||a===void 0||a.forEach(function(o){Rn(o,n)})})}function Hi(e,n){if(Array.isArray(n))return Rn(e,n);if(typeof n=="string")return Rn(e,[n]);Mn(e,n)}function Zt(e,n,t){var r,a,i,o,u=Object.keys(n).filter(function(m){return!e.hasValue(m)}),d=u.length;if(d)for(var l=0;l<d;l++){var s=u[l],p=n[s],c=null;Array.isArray(p)&&(c=p[0]),c===null&&(c=(a=(r=t[s])!==null&&r!==void 0?r:e.readValue(s))!==null&&a!==void 0?a:n[s]),c!=null&&(typeof c=="string"&&Oi(c)?c=parseFloat(c):!ji(c)&&x.complex.test(p)&&(c=wn(s,p)),e.addValue(s,k(c)),(i=(o=t)[s])!==null&&i!==void 0||(o[s]=c),e.setBaseTarget(s,c))}}function ki(e,n){if(n){var t=n[e]||n.default||n;return t.from}}function qt(e,n,t){var r,a,i={};for(var o in e)i[o]=(r=ki(o,n))!==null&&r!==void 0?r:(a=t.getValue(o))===null||a===void 0?void 0:a.get();return i}function Ke(e,n,t){t===void 0&&(t={}),e.notifyAnimationStart();var r;if(Array.isArray(n)){var a=n.map(function(o){return Dn(e,o,t)});r=Promise.all(a)}else if(typeof n=="string")r=Dn(e,n,t);else{var i=typeof n=="function"?Fe(e,n,t.custom):n;r=$t(e,i,t)}return r.then(function(){return e.notifyAnimationComplete(n)})}function Dn(e,n,t){var r;t===void 0&&(t={});var a=Fe(e,n,t.custom),i=(a||{}).transition,o=i===void 0?e.getDefaultTransition()||{}:i;t.transitionOverride&&(o=t.transitionOverride);var u=a?function(){return $t(e,a,t)}:function(){return Promise.resolve()},d=!((r=e.variantChildren)===null||r===void 0)&&r.size?function(m){m===void 0&&(m=0);var v=o.delayChildren,y=v===void 0?0:v,g=o.staggerChildren,_=o.staggerDirection;return zi(e,n,y+m,g,_,t)}:function(){return Promise.resolve()},l=o.when;if(l){var s=f.__read(l==="beforeChildren"?[u,d]:[d,u],2),p=s[0],c=s[1];return p().then(c)}else return Promise.all([u(),d(t.delay)])}function $t(e,n,t){var r,a=t===void 0?{}:t,i=a.delay,o=i===void 0?0:i,u=a.transitionOverride,d=a.type,l=e.makeTargetAnimatable(n),s=l.transition,p=s===void 0?e.getDefaultTransition():s,c=l.transitionEnd,m=f.__rest(l,["transition","transitionEnd"]);u&&(p=u);var v=[],y=d&&((r=e.animationState)===null||r===void 0?void 0:r.getState()[d]);for(var g in m){var _=e.getValue(g),T=m[g];if(!(!_||T===void 0||y&&Ni(y,g))){var L=Le(g,_,T,f.__assign({delay:o},p));v.push(L)}}return Promise.all(v).then(function(){c&&Mn(e,c)})}function zi(e,n,t,r,a,i){t===void 0&&(t=0),r===void 0&&(r=0),a===void 0&&(a=1);var o=[],u=(e.variantChildren.size-1)*r,d=a===1?function(l){return l===void 0&&(l=0),l*r}:function(l){return l===void 0&&(l=0),u-l*r};return Array.from(e.variantChildren).sort(Yi).forEach(function(l,s){o.push(Dn(l,n,f.__assign(f.__assign({},i),{delay:t+d(s)})).then(function(){return l.notifyAnimationComplete(n)}))}),Promise.all(o)}function Xi(e){e.forEachValue(function(n){return n.stop()})}function Yi(e,n){return e.sortNodePosition(n)}function Ni(e,n){var t=e.protectedKeys,r=e.needsAnimating,a=t.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,a}var On=[I.Animate,I.Hover,I.Tap,I.Drag,I.Focus,I.Exit],Ki=f.__spreadArray([],f.__read(On)).reverse(),Wi=On.length;function Gi(e){return function(n){return Promise.all(n.map(function(t){var r=t.animation,a=t.options;return Ke(e,r,a)}))}}function Zi(e){var n=Gi(e),t=$i(),r={},a=!0,i=function(s,p){var c=Fe(e,p);if(c){c.transition;var m=c.transitionEnd,v=f.__rest(c,["transition","transitionEnd"]);s=f.__assign(f.__assign(f.__assign({},s),v),m)}return s};function o(s){return r[s]!==void 0}function u(s){n=s(e)}function d(s,p){for(var c,m=e.getProps(),v=e.getVariantContext(!0)||{},y=[],g=new Set,_={},T=1/0,L=function(R){var M=Ki[R],E=t[M],B=(c=m[M])!==null&&c!==void 0?c:v[M],Y=J(B),ae=M===p?E.isActive:null;ae===!1&&(T=R);var Z=B===v[M]&&B!==m[M]&&Y;if(Z&&a&&e.manuallyAnimateOnMount&&(Z=!1),E.protectedKeys=f.__assign({},_),!E.isActive&&ae===null||!B&&!E.prevProp||Sn(B)||typeof B=="boolean")return"continue";var H=qi(E.prevProp,B)||M===p&&E.isActive&&!Z&&Y||R>T&&Y,de=Array.isArray(B)?B:[B],ie=de.reduce(i,{});ae===!1&&(ie={});var oe=E.prevResolvedValues,ve=oe===void 0?{}:oe,on=f.__assign(f.__assign({},ve),ie),pe=function(ge){H=!0,g.delete(ge),E.needsAnimating[ge]=!0};for(var W in on){var ee=ie[W],me=ve[W];_.hasOwnProperty(W)||(ee!==me?Ee(ee)&&Ee(me)?Ft(ee,me)?E.protectedKeys[W]=!0:pe(W):ee!==void 0?pe(W):g.add(W):ee!==void 0&&g.has(W)?pe(W):E.protectedKeys[W]=!0)}E.prevProp=B,E.prevResolvedValues=ie,E.isActive&&(_=f.__assign(f.__assign({},_),ie)),a&&e.blockInitialAnimation&&(H=!1),H&&!Z&&y.push.apply(y,f.__spreadArray([],f.__read(de.map(function(ge){return{animation:ge,options:f.__assign({type:M},s)}}))))},O=0;O<Wi;O++)L(O);if(r=f.__assign({},_),g.size){var w={};g.forEach(function(R){var M=e.getBaseTarget(R);M!==void 0&&(w[R]=M)}),y.push({animation:w})}var A=!!y.length;return a&&m.initial===!1&&!e.manuallyAnimateOnMount&&(A=!1),a=!1,A?n(y):Promise.resolve()}function l(s,p,c){var m;return t[s].isActive===p?Promise.resolve():((m=e.variantChildren)===null||m===void 0||m.forEach(function(v){var y;return(y=v.animationState)===null||y===void 0?void 0:y.setActive(s,p)}),t[s].isActive=p,d(c,s))}return{isAnimated:o,animateChanges:d,setActive:l,setAnimateFunction:u,getState:function(){return t}}}function qi(e,n){return typeof n=="string"?n!==e:tt(n)?!Ft(n,e):!1}function ye(e){return e===void 0&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $i(){var e;return e={},e[I.Animate]=ye(!0),e[I.Hover]=ye(),e[I.Tap]=ye(),e[I.Drag]=ye(),e[I.Focus]=ye(),e[I.Exit]=ye(),e}var Jt={animation:fe(function(e){var n=e.visualElement,t=e.animate;n.animationState||(n.animationState=Zi(n)),Sn(t)&&P.useEffect(function(){return t.subscribe(n)},[t])}),exit:fe(function(e){var n=e.custom,t=e.visualElement,r=f.__read(vn(),2),a=r[0],i=r[1],o=P.useContext(ue);P.useEffect(function(){var u,d,l=(u=t.animationState)===null||u===void 0?void 0:u.setActive(I.Exit,!a,{custom:(d=o==null?void 0:o.custom)!==null&&d!==void 0?d:n});!a&&(l==null||l.then(i))},[a])})},Qt=function(){function e(n,t,r){var a=this,i=r===void 0?{}:r,o=i.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(a.lastMoveEvent&&a.lastMoveEventInfo){var c=Fn(a.lastMoveEventInfo,a.history),m=a.startEvent!==null,v=V.distance(c.offset,{x:0,y:0})>=3;if(!(!m&&!v)){var y=c.point,g=U.getFrameData().timestamp;a.history.push(f.__assign(f.__assign({},y),{timestamp:g}));var _=a.handlers,T=_.onStart,L=_.onMove;m||(T&&T(a.lastMoveEvent,c),a.startEvent=a.lastMoveEvent),L&&L(a.lastMoveEvent,c)}}},this.handlePointerMove=function(c,m){if(a.lastMoveEvent=c,a.lastMoveEventInfo=In(m,a.transformPagePoint),Ct(c)&&c.buttons===0){a.handlePointerUp(c,m);return}$.default.update(a.updatePoint,!0)},this.handlePointerUp=function(c,m){a.end();var v=a.handlers,y=v.onEnd,g=v.onSessionEnd,_=Fn(In(m,a.transformPagePoint),a.history);a.startEvent&&y&&y(c,_),g&&g(c,_)},!(Tt(n)&&n.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var u=An(n),d=In(u,this.transformPagePoint),l=d.point,s=U.getFrameData().timestamp;this.history=[f.__assign(f.__assign({},l),{timestamp:s})];var p=t.onSessionStart;p&&p(n,Fn(d,this.history)),this.removeListeners=V.pipe(he(window,"pointermove",this.handlePointerMove),he(window,"pointerup",this.handlePointerUp),he(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(n){this.handlers=n},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),U.cancelSync.update(this.updatePoint)},e}();function In(e,n){return n?{point:n(e.point)}:e}function er(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Fn(e,n){var t=e.point;return{point:t,delta:er(t,nr(n)),offset:er(t,Ji(n)),velocity:Qi(n,.1)}}function Ji(e){return e[0]}function nr(e){return e[e.length-1]}function Qi(e,n){if(e.length<2)return{x:0,y:0};for(var t=e.length-1,r=null,a=nr(e);t>=0&&(r=e[t],!(a.timestamp-r.timestamp>ke(n)));)t--;if(!r)return{x:0,y:0};var i=(a.timestamp-r.timestamp)/1e3;if(i===0)return{x:0,y:0};var o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eo(e){return e}function tr(e){var n=e.top,t=e.left,r=e.right,a=e.bottom;return{x:{min:t,max:r},y:{min:n,max:a}}}function no(e){var n=e.x,t=e.y;return{top:t.min,bottom:t.max,left:n.min,right:n.max}}function to(e,n){var t=e.top,r=e.left,a=e.bottom,i=e.right;n===void 0&&(n=eo);var o=n({x:r,y:t}),u=n({x:i,y:a});return{top:o.y,left:o.x,bottom:u.y,right:u.x}}function re(){return{x:{min:0,max:1},y:{min:0,max:1}}}function ro(e){return{x:f.__assign({},e.x),y:f.__assign({},e.y)}}var rr={translate:0,scale:1,origin:0,originPoint:0};function ar(){return{x:f.__assign({},rr),y:f.__assign({},rr)}}function N(e){return[e("x"),e("y")]}var ao=function(e){return V.clamp(0,1,e)};function ir(e,n,t){return n===void 0&&(n=0),t===void 0&&(t=.01),V.distance(e,n)<t}function we(e){return e.max-e.min}function io(e,n){var t=.5,r=we(e),a=we(n);return a>r?t=V.progress(n.min,n.max-r,e.min):r>a&&(t=V.progress(e.min,e.max-a,n.min)),ao(t)}function or(e,n,t,r){r===void 0&&(r=.5),e.origin=r,e.originPoint=V.mix(n.min,n.max,e.origin),e.scale=we(t)/we(n),ir(e.scale,1,1e-4)&&(e.scale=1),e.translate=V.mix(t.min,t.max,e.origin)-e.originPoint,ir(e.translate)&&(e.translate=0)}function ur(e,n,t,r){or(e.x,n.x,t.x,sr(r.originX)),or(e.y,n.y,t.y,sr(r.originY))}function sr(e){return typeof e=="number"?e:.5}function fr(e,n,t){e.min=t.min+n.min,e.max=e.min+we(n)}function oo(e,n){fr(e.target.x,e.relativeTarget.x,n.target.x),fr(e.target.y,e.relativeTarget.y,n.target.y)}function lr(e,n,t){var r=n.min,a=n.max;return r!==void 0&&e<r?e=t?V.mix(r,e,t.min):Math.max(e,r):a!==void 0&&e>a&&(e=t?V.mix(a,e,t.max):Math.min(e,a)),e}function uo(e,n,t,r,a){var i=e-n*t;return r?lr(i,r,a):i}function cr(e,n,t){return{min:n!==void 0?e.min+n:void 0,max:t!==void 0?e.max+t-(e.max-e.min):void 0}}function so(e,n){var t=n.top,r=n.left,a=n.bottom,i=n.right;return{x:cr(e.x,r,i),y:cr(e.y,t,a)}}function dr(e,n){var t,r=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&(t=f.__read([a,r],2),r=t[0],a=t[1]),{min:e.min+r,max:e.min+a}}function fo(e,n){return{x:dr(e.x,n.x),y:dr(e.y,n.y)}}function lo(e,n,t){var r=e.max-e.min,a=V.mix(n.min,n.max-r,t);return{min:a,max:a+r}}function co(e,n){var t={};return n.min!==void 0&&(t.min=n.min-e.min),n.max!==void 0&&(t.max=n.max-e.min),t}var vr=.35;function vo(e){return e===!1?e=0:e===!0&&(e=vr),{x:pr(e,"left","right"),y:pr(e,"top","bottom")}}function pr(e,n,t){return{min:mr(e,n),max:mr(e,t)}}function mr(e,n){var t;return typeof e=="number"?e:(t=e[n])!==null&&t!==void 0?t:0}function gr(e,n){var t=e.getBoundingClientRect();return tr(to(t,n))}var Bn=function(e,n){return e.depth-n.depth};function hr(e){var n=e.projection.isEnabled;return n||e.shouldResetTransform()}function We(e,n){n===void 0&&(n=[]);var t=e.parent;return t&&We(t,n),hr(e)&&n.push(e),n}function po(e){var n=[],t=function(r){hr(r)&&n.push(r),r.children.forEach(t)};return e.children.forEach(t),n.sort(Bn)}function Ge(e){if(!e.shouldResetTransform()){var n=e.getLayoutState();e.notifyBeforeLayoutMeasure(n.layout),n.isHydrated=!0,n.layout=e.measureViewportBox(),n.layoutCorrected=ro(n.layout),e.notifyLayoutMeasure(n.layout,e.prevViewportBox||n.layout),$.default.update(function(){return e.rebaseProjectionTarget()})}}function jn(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}function mo(e,n,t,r){e.min=V.mix(n.min,t.min,r),e.max=V.mix(n.max,t.max,r)}function yr(e,n){return{min:n.min-e.min,max:n.max-e.min}}function xe(e,n){return{x:yr(e.x,n.x),y:yr(e.y,n.y)}}function go(e,n){var t=e.getLayoutId(),r=n.getLayoutId();return t!==r||r===void 0&&e!==n}function xr(e){var n=e.getProps(),t=n.drag,r=n._dragX;return t&&!r}function _r(e,n){e.min=n.min,e.max=n.max}function ho(e,n){_r(e.x,n.x),_r(e.y,n.y)}function Ze(e,n,t){var r=e-t,a=n*r;return t+a}function Pr(e,n,t,r,a){return a!==void 0&&(e=Ze(e,a,r)),Ze(e,t,r)+n}function Un(e,n,t,r,a){n===void 0&&(n=0),t===void 0&&(t=1),e.min=Pr(e.min,n,t,r,a),e.max=Pr(e.max,n,t,r,a)}function yo(e,n){var t=n.x,r=n.y;Un(e.x,t.translate,t.scale,t.originPoint),Un(e.y,r.translate,r.scale,r.originPoint)}function br(e,n,t,r){var a=f.__read(r,3),i=a[0],o=a[1],u=a[2];e.min=n.min,e.max=n.max;var d=t[u]!==void 0?t[u]:.5,l=V.mix(n.min,n.max,d);Un(e,t[i],t[o],l,t.scale)}var Sr=["x","scaleX","originX"],Cr=["y","scaleY","originY"];function Hn(e,n,t){br(e.x,n.x,t,Sr),br(e.y,n.y,t,Cr)}function Tr(e,n,t,r,a){return e-=n,e=Ze(e,1/t,r),a!==void 0&&(e=Ze(e,1/a,r)),e}function xo(e,n,t,r,a){n===void 0&&(n=0),t===void 0&&(t=1),r===void 0&&(r=.5);var i=V.mix(e.min,e.max,r)-n;e.min=Tr(e.min,n,t,i,a),e.max=Tr(e.max,n,t,i,a)}function Ar(e,n,t){var r=f.__read(t,3),a=r[0],i=r[1],o=r[2];xo(e,n[a],n[i],n[o],n.scale)}function Vr(e,n){Ar(e.x,n,Sr),Ar(e.y,n,Cr)}function _o(e,n,t){var r=t.length;if(r){n.x=n.y=1;for(var a,i,o=0;o<r;o++)a=t[o],i=a.getLayoutState().delta,n.x*=i.x.scale,n.y*=i.y.scale,yo(e,i),xr(a)&&Hn(e,e,a.getLatestValues())}}function Po(e,n){n===void 0&&(n=!0);var t=e.getProjectionParent();if(!t)return!1;var r;return n?(r=xe(t.projection.target,e.projection.target),Vr(r,t.getLatestValues())):r=xe(t.getLayoutState().layout,e.getLayoutState().layout),N(function(a){return e.setProjectionTargetAxis(a,r[a].min,r[a].max,!0)}),!0}var Me=new Set;function Er(e,n,t){e[t]||(e[t]=[]),e[t].push(n)}function qe(e){return Me.add(e),function(){return Me.delete(e)}}function Re(){if(Me.size){var e=0,n=[[]],t=[],r=function(u){return Er(n,u,e)},a=function(u){Er(t,u,e),e++};Me.forEach(function(u){u(r,a),e=0}),Me.clear();for(var i=t.length,o=0;o<=i;o++)n[o]&&n[o].forEach(Lr),t[o]&&t[o].forEach(Lr)}}var Lr=function(e){return e()},wr=new WeakMap,Mr,bo=function(){function e(n){var t=n.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=re(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),wr.set(t,this)}return e.prototype.start=function(n,t){var r=this,a=t===void 0?{}:t,i=a.snapToCursor,o=i===void 0?!1:i,u=a.cursorProgress,d=function(m){var v;r.stopMotion();var y=gi(m).point;(v=r.cancelLayout)===null||v===void 0||v.call(r),r.cancelLayout=qe(function(g,_){var T=We(r.visualElement),L=po(r.visualElement),O=f.__spreadArray(f.__spreadArray([],f.__read(T)),f.__read(L)),w=!1;r.isLayoutDrag()&&r.visualElement.lockProjectionTarget(),_(function(){O.forEach(function(A){return A.resetTransform()})}),g(function(){Ge(r.visualElement),L.forEach(Ge)}),_(function(){O.forEach(function(A){return A.restoreTransform()}),o&&(w=r.snapToCursor(y))}),g(function(){var A=!!(r.getAxisMotionValue("x")&&!r.isExternalDrag());A||r.visualElement.rebaseProjectionTarget(!0,r.visualElement.measureViewportBox(!1)),r.visualElement.scheduleUpdateLayoutProjection();var R=r.visualElement.projection;N(function(M){if(!w){var E=R.target[M],B=E.min,Y=E.max;r.cursorProgress[M]=u?u[M]:V.progress(B,Y,y[M])}var ae=r.getAxisMotionValue(M);ae&&(r.originPoint[M]=ae.get())})}),_(function(){U.flushSync.update(),U.flushSync.preRender(),U.flushSync.render(),U.flushSync.postRender()}),g(function(){return r.resolveDragConstraints()})})},l=function(m,v){var y,g,_,T=r.props,L=T.drag,O=T.dragPropagation;L&&!O&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Mt(L),!r.openGlobalLock)||(Re(),r.isDragging=!0,r.currentDirection=null,(g=(y=r.props).onDragStart)===null||g===void 0||g.call(y,m,v),(_=r.visualElement.animationState)===null||_===void 0||_.setActive(I.Drag,!0))},s=function(m,v){var y,g,_,T,L=r.props,O=L.dragPropagation,w=L.dragDirectionLock;if(!(!O&&!r.openGlobalLock)){var A=v.offset;if(w&&r.currentDirection===null){r.currentDirection=So(A),r.currentDirection!==null&&((g=(y=r.props).onDirectionLock)===null||g===void 0||g.call(y,r.currentDirection));return}r.updateAxis("x",v.point,A),r.updateAxis("y",v.point,A),(T=(_=r.props).onDrag)===null||T===void 0||T.call(_,m,v),Mr=m}},p=function(m,v){return r.stop(m,v)},c=this.props.transformPagePoint;this.panSession=new Qt(n,{onSessionStart:d,onStart:l,onMove:s,onSessionEnd:p},{transformPagePoint:c})},e.prototype.resolveDragConstraints=function(){var n=this,t=this.props,r=t.dragConstraints,a=t.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;r?this.constraints=pn(r)?this.resolveRefConstraints(i,r):so(i,r):this.constraints=!1,this.elastic=vo(a),this.constraints&&!this.hasMutatedConstraints&&N(function(o){n.getAxisMotionValue(o)&&(n.constraints[o]=co(i[o],n.constraints[o]))})},e.prototype.resolveRefConstraints=function(n,t){var r=this.props,a=r.onMeasureDragConstraints,i=r.transformPagePoint,o=t.current;G.invariant(o!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=gr(o,i);var u=fo(n,this.constraintsBox);if(a){var d=a(no(u));this.hasMutatedConstraints=!!d,d&&(u=tr(d))}return u},e.prototype.cancelDrag=function(){var n,t;this.visualElement.unlockProjectionTarget(),(n=this.cancelLayout)===null||n===void 0||n.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(I.Drag,!1)},e.prototype.stop=function(n,t){var r,a,i;(r=this.panSession)===null||r===void 0||r.end(),this.panSession=null;var o=this.isDragging;if(this.cancelDrag(),!!o){var u=t.velocity;this.animateDragEnd(u),(i=(a=this.props).onDragEnd)===null||i===void 0||i.call(a,n,t)}},e.prototype.snapToCursor=function(n){var t=this;return N(function(r){var a=t.props.drag;if($e(r,a,t.currentDirection)){var i=t.getAxisMotionValue(r);if(i){var o=t.visualElement.getLayoutState().layout,u=o[r].max-o[r].min,d=o[r].min+u/2,l=n[r]-d;t.originPoint[r]=n[r],i.set(l)}else return t.cursorProgress[r]=.5,!0}}).includes(!0)},e.prototype.updateAxis=function(n,t,r){var a=this.props.drag;if($e(n,a,this.currentDirection))return this.getAxisMotionValue(n)?this.updateAxisMotionValue(n,r):this.updateVisualElementAxis(n,t)},e.prototype.updateAxisMotionValue=function(n,t){var r=this.getAxisMotionValue(n);if(!(!t||!r)){var a=this.originPoint[n]+t[n],i=this.constraints?lr(a,this.constraints[n],this.elastic[n]):a;r.set(i)}},e.prototype.updateVisualElementAxis=function(n,t){var r,a=this.visualElement.getLayoutState().layout[n],i=a.max-a.min,o=this.cursorProgress[n],u=uo(t[n],i,o,(r=this.constraints)===null||r===void 0?void 0:r[n],this.elastic[n]);this.visualElement.setProjectionTargetAxis(n,u,u+i)},e.prototype.setProps=function(n){var t=n.drag,r=t===void 0?!1:t,a=n.dragDirectionLock,i=a===void 0?!1:a,o=n.dragPropagation,u=o===void 0?!1:o,d=n.dragConstraints,l=d===void 0?!1:d,s=n.dragElastic,p=s===void 0?vr:s,c=n.dragMomentum,m=c===void 0?!0:c,v=f.__rest(n,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=f.__assign({drag:r,dragDirectionLock:i,dragPropagation:u,dragConstraints:l,dragElastic:p,dragMomentum:m},v)},e.prototype.getAxisMotionValue=function(n){var t=this.props,r=t.layout,a=t.layoutId,i="_drag"+n.toUpperCase();if(this.props[i])return this.props[i];if(!r&&a===void 0)return this.visualElement.getValue(n,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var n=this.props,t=n._dragX,r=n._dragY;return t||r},e.prototype.animateDragEnd=function(n){var t=this,r=this.props,a=r.drag,i=r.dragMomentum,o=r.dragElastic,u=r.dragTransition,d=Po(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),l=this.constraints||{};if(d&&Object.keys(l).length&&this.isLayoutDrag()){var s=this.visualElement.getProjectionParent();if(s){var p=xe(s.projection.targetFinal,l);N(function(m){var v=p[m],y=v.min,g=v.max;l[m]={min:isNaN(y)?void 0:y,max:isNaN(g)?void 0:g}})}}var c=N(function(m){var v;if($e(m,a,t.currentDirection)){var y=(v=l==null?void 0:l[m])!==null&&v!==void 0?v:{},g=o?200:1e6,_=o?40:1e7,T=f.__assign(f.__assign({type:"inertia",velocity:i?n[m]:0,bounceStiffness:g,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10},u),y);return t.getAxisMotionValue(m)?t.startAxisValueAnimation(m,T):t.visualElement.startLayoutAnimation(m,T,d)}});return Promise.all(c).then(function(){var m,v;(v=(m=t.props).onDragTransitionEnd)===null||v===void 0||v.call(m)})},e.prototype.stopMotion=function(){var n=this;N(function(t){var r=n.getAxisMotionValue(t);r?r.stop():n.visualElement.stopLayoutAnimation()})},e.prototype.startAxisValueAnimation=function(n,t){var r=this.getAxisMotionValue(n);if(r){var a=r.get();return r.set(a),r.set(a),Le(n,r,0,t)}},e.prototype.scalePoint=function(){var n=this,t=this.props,r=t.drag,a=t.dragConstraints;if(!(!pn(a)||!this.constraintsBox)){this.stopMotion();var i={x:0,y:0};N(function(o){i[o]=io(n.visualElement.projection.target[o],n.constraintsBox[o])}),this.updateConstraints(function(){N(function(o){if($e(o,r,null)){var u=lo(n.visualElement.projection.target[o],n.constraintsBox[o],i[o]),d=u.min,l=u.max;n.visualElement.setProjectionTargetAxis(o,d,l)}})}),setTimeout(Re,1)}},e.prototype.updateConstraints=function(n){var t=this;this.cancelLayout=qe(function(r,a){var i=We(t.visualElement);a(function(){return i.forEach(function(o){return o.resetTransform()})}),r(function(){return Ge(t.visualElement)}),a(function(){return i.forEach(function(o){return o.restoreTransform()})}),r(function(){t.resolveDragConstraints()}),n&&a(n)})},e.prototype.mount=function(n){var t=this,r=n.getInstance(),a=he(r,"pointerdown",function(d){var l=t.props,s=l.drag,p=l.dragListener,c=p===void 0?!0:p;s&&c&&t.start(d)}),i=se(window,"resize",function(){t.scalePoint()}),o=n.onLayoutUpdate(function(){t.isDragging&&t.resolveDragConstraints()}),u=n.prevDragCursor;return u&&this.start(Mr,{cursorProgress:u}),function(){a==null||a(),i==null||i(),o==null||o(),t.cancelDrag()}},e}();function $e(e,n,t){return(n===!0||n===e)&&(t===null||t===e)}function So(e,n){n===void 0&&(n=10);var t=null;return Math.abs(e.y)>n?t="y":Math.abs(e.x)>n&&(t="x"),t}function Co(e){var n=e.dragControls,t=e.visualElement,r=P.useContext(te).transformPagePoint,a=K(function(){return new bo({visualElement:t})});a.setProps(f.__assign(f.__assign({},e),{transformPagePoint:r})),P.useEffect(function(){return n&&n.subscribe(a)},[a]),P.useEffect(function(){return a.mount(t)},[])}function To(e){var n=e.onPan,t=e.onPanStart,r=e.onPanEnd,a=e.onPanSessionStart,i=e.visualElement,o=n||t||r||a,u=P.useRef(null),d=P.useContext(te).transformPagePoint,l={onSessionStart:a,onStart:t,onMove:n,onEnd:function(p,c){u.current=null,r&&r(p,c)}};P.useEffect(function(){u.current!==null&&u.current.updateHandlers(l)});function s(p){u.current=new Qt(p,l,{transformPagePoint:d})}He(i,"pointerdown",o&&s),Vn(function(){return u.current&&u.current.end()})}var Rr={pan:fe(To),drag:fe(Co)},z;(function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"})(z||(z={})),S.VisibilityAction=void 0,function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(S.VisibilityAction||(S.VisibilityAction={}));function kn(e){return typeof e=="string"&&e.startsWith("var(--")}var Dr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ao(e){var n=Dr.exec(e);if(!n)return[,];var t=f.__read(n,3),r=t[1],a=t[2];return[r,a]}var Vo=4;function zn(e,n,t){t===void 0&&(t=1),G.invariant(t<=Vo,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var r=f.__read(Ao(e),2),a=r[0],i=r[1];if(a){var o=window.getComputedStyle(n).getPropertyValue(a);return o?o.trim():kn(i)?zn(i,n,t+1):i}}function Eo(e,n,t){var r,a=f.__rest(n,[]),i=e.getInstance();if(!(i instanceof HTMLElement))return{target:a,transitionEnd:t};t&&(t=f.__assign({},t)),e.forEachValue(function(l){var s=l.get();if(kn(s)){var p=zn(s,i);p&&l.set(p)}});for(var o in a){var u=a[o];if(kn(u)){var d=zn(u,i);d&&(a[o]=d,t&&((r=t[o])!==null&&r!==void 0||(t[o]=u)))}}return{target:a,transitionEnd:t}}function Or(e,n){return e/(n.max-n.min)*100}function Lo(e,n,t){var r=t.target;if(typeof e=="string")if(x.px.test(e))e=parseFloat(e);else return e;var a=Or(e,r.x),i=Or(e,r.y);return a+"% "+i+"%"}var Ir="_$css";function wo(e,n){var t=n.delta,r=n.treeScale,a=e,i=e.includes("var("),o=[];i&&(e=e.replace(Dr,function(y){return o.push(y),Ir}));var u=x.complex.parse(e);if(u.length>5)return a;var d=x.complex.createTransformer(e),l=typeof u[0]!="number"?1:0,s=t.x.scale*r.x,p=t.y.scale*r.y;u[0+l]/=s,u[1+l]/=p;var c=V.mix(s,p,.5);typeof u[2+l]=="number"&&(u[2+l]/=c),typeof u[3+l]=="number"&&(u[3+l]/=c);var m=d(u);if(i){var v=0;m=m.replace(Ir,function(){var y=o[v];return v++,y})}return m}var De={process:Lo},Mo={borderRadius:f.__assign(f.__assign({},De),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomLeftRadius:De,borderBottomRightRadius:De,boxShadow:{process:wo}},Fr=1e3,Ro=function(e){f.__extends(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.frameTarget=re(),t.currentAnimationTarget=re(),t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(r,a,i){i===void 0&&(i={});var o=i.originBox,u=i.targetBox,d=i.visibilityAction,l=i.shouldStackAnimate,s=i.onComplete,p=i.prevParent,c=f.__rest(i,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),m=t.props,v=m.visualElement,y=m.layout;if(l===!1)return t.isAnimatingTree=!1,t.safeToRemove();if(!(t.isAnimatingTree&&l!==!0)){l&&(t.isAnimatingTree=!0),a=o||a,r=u||r;var g=!1,_=v.getProjectionParent();if(_){var T=_.prevViewportBox,L=_.getLayoutState().layout;p&&(u&&(L=p.getLayoutState().layout),o&&!go(p,_)&&p.prevViewportBox&&(T=p.prevViewportBox)),T&&Fo(p,o,u)&&(g=!0,a=xe(T,a),r=xe(L,r))}var O=Oo(a,r),w=N(function(A){var R,M;if(y==="position"){var E=r[A].max-r[A].min;a[A].max=a[A].min+E}if(!v.projection.isTargetLocked)if(d!==void 0)v.setVisibility(d===S.VisibilityAction.Show);else return O?t.animateAxis(A,r[A],a[A],f.__assign(f.__assign({},c),{isRelative:g})):((M=(R=t.stopAxisAnimation)[A])===null||M===void 0||M.call(R),v.setProjectionTargetAxis(A,r[A].min,r[A].max,g))});return v.syncRender(),Promise.all(w).then(function(){t.isAnimatingTree=!1,s&&s(),v.notifyLayoutAnimationComplete()})}},t}return n.prototype.componentDidMount=function(){var t=this,r=this.props.visualElement;r.animateMotionValue=Le,r.enableLayoutProjection(),this.unsubLayoutReady=r.onLayoutUpdate(this.animate),r.layoutSafeToRemove=function(){return t.safeToRemove()},ut(Mo)},n.prototype.componentWillUnmount=function(){var t=this;this.unsubLayoutReady(),N(function(r){var a,i;return(i=(a=t.stopAxisAnimation)[r])===null||i===void 0?void 0:i.call(a)})},n.prototype.animateAxis=function(t,r,a,i){var o=this,u,d,l=i===void 0?{}:i,s=l.transition,p=l.isRelative;if(!(this.isAnimating[t]&&Oe(r,this.currentAnimationTarget[t]))){(d=(u=this.stopAxisAnimation)[t])===null||d===void 0||d.call(u),this.isAnimating[t]=!0;var c=this.props.visualElement,m=this.frameTarget[t],v=c.getProjectionAnimationProgress()[t];v.clearListeners(),v.set(0),v.set(0);var y=function(){var L=v.get()/Fr;mo(m,a,r,L),c.setProjectionTargetAxis(t,m.min,m.max,p)};y();var g=v.onChange(y);this.stopAxisAnimation[t]=function(){o.isAnimating[t]=!1,v.stop(),g()},this.currentAnimationTarget[t]=r;var _=s||c.getDefaultTransition()||Io,T=Le(t==="x"?"layoutX":"layoutY",v,Fr,_&&Xe(_,"layout")).then(this.stopAxisAnimation[t]);return T}},n.prototype.safeToRemove=function(){var t,r;(r=(t=this.props).safeToRemove)===null||r===void 0||r.call(t)},n.prototype.render=function(){return null},n}(F.Component);function Do(e){var n=f.__read(vn(),2),t=n[1];return F.createElement(Ro,f.__assign({},e,{safeToRemove:t}))}function Oo(e,n){return!jr(e)&&!jr(n)&&(!Oe(e.x,n.x)||!Oe(e.y,n.y))}var Br={min:0,max:0};function jr(e){return Oe(e.x,Br)&&Oe(e.y,Br)}function Oe(e,n){return e.min===n.min&&e.max===n.max}var Io={duration:.45,ease:[.4,0,.1,1]};function Fo(e,n,t){return e||!e&&!(n||t)}var Bo={layoutReady:function(e){return e.notifyLayoutReady()}};function Je(){var e=new Set;return{add:function(n){return e.add(n)},flush:function(n){var t=n===void 0?Bo:n,r=t.layoutReady,a=t.parent;qe(function(i,o){var u=Array.from(e).sort(Bn),d=a?We(a):[];o(function(){var l=f.__spreadArray(f.__spreadArray([],f.__read(d)),f.__read(u));l.forEach(function(s){return s.resetTransform()})}),i(function(){u.forEach(Ge)}),o(function(){d.forEach(function(l){return l.restoreTransform()}),u.forEach(r)}),i(function(){u.forEach(function(l){l.isPresent&&(l.presence=z.Present)})}),o(function(){U.flushSync.preRender(),U.flushSync.render()}),i(function(){$.default.postRender(function(){return u.forEach(jo)}),e.clear()})}),Re()}}}function jo(e){e.prevViewportBox=e.projection.target}var Qe=P.createContext(Je()),Ur=P.createContext(Je());function ce(e){return!!e.forceUpdate}var Uo=function(e){f.__extends(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.componentDidMount=function(){var t=this.props,r=t.syncLayout,a=t.framerSyncLayout,i=t.visualElement;ce(r)&&r.register(i),ce(a)&&a.register(i),i.onUnmount(function(){ce(r)&&r.remove(i),ce(a)&&a.remove(i)})},n.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,r=t.syncLayout,a=t.visualElement;return ce(r)?r.syncUpdate():(jn(a),r.add(a)),null},n.prototype.componentDidUpdate=function(){var t=this.props.syncLayout;ce(t)||t.flush()},n.prototype.render=function(){return null},n}($n.default.Component);function Ho(e){var n=P.useContext(Qe),t=P.useContext(Ur);return $n.default.createElement(Uo,f.__assign({},e,{syncLayout:n,framerSyncLayout:t}))}var Hr={measureLayout:Ho,layoutAnimation:Do},ko=function(){return{isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:re(),targetFinal:re()}};function kr(){return{isHydrated:!1,layout:re(),layoutCorrected:re(),treeScale:{x:1,y:1},delta:ar(),deltaFinal:ar(),deltaTransform:""}}var zr=kr();function en(e,n,t){var r=e.x,a=e.y,i=r.translate/n.x,o=a.translate/n.y,u="translate3d("+i+"px, "+o+"px, 0) ";if(t){var d=t.rotate,l=t.rotateX,s=t.rotateY;d&&(u+="rotate("+d+") "),l&&(u+="rotateX("+l+") "),s&&(u+="rotateY("+s+") ")}return u+="scale("+r.scale+", "+a.scale+")",!t&&u===zo?"":u}function Xr(e){var n=e.deltaFinal;return n.x.origin*100+"% "+n.y.origin*100+"% 0"}var zo=en(zr.delta,zr.treeScale,{x:1,y:1}),nn=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Xo(){var e=nn.map(function(){return new Ye}),n={},t={clearAllListeners:function(){return e.forEach(function(r){return r.clear()})},updatePropListeners:function(r){return nn.forEach(function(a){var i;(i=n[a])===null||i===void 0||i.call(n);var o="on"+a,u=r[o];u&&(n[a]=t[o](u))})}};return e.forEach(function(r,a){t["on"+nn[a]]=function(i){return r.add(i)},t["notify"+nn[a]]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.notify.apply(r,f.__spreadArray([],f.__read(i)))}}),t}function Yo(e,n,t){var r;for(var a in n){var i=n[a],o=t[a];if(Q(i))e.addValue(a,i);else if(Q(o))e.addValue(a,k(i));else if(o!==i)if(e.hasValue(a)){var u=e.getValue(a);!u.hasAnimated&&u.set(i)}else e.addValue(a,k((r=e.getStaticValue(a))!==null&&r!==void 0?r:i))}for(var a in t)n[a]===void 0&&e.removeValue(a);return n}function No(e,n,t,r){var a=e.delta,i=e.layout,o=e.layoutCorrected,u=e.treeScale,d=n.target;ho(o,i),_o(o,u,t),ur(a,o,d,r)}var Yr=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(n){Yt(this.children,n),this.isDirty=!0},e.prototype.remove=function(n){Nt(this.children,n),this.isDirty=!0},e.prototype.forEach=function(n){this.isDirty&&this.children.sort(Bn),this.isDirty=!1,this.children.forEach(n)},e}();function Ko(e){var n=e.getProjectionParent();if(!n){e.rebaseProjectionTarget();return}var t=xe(n.getLayoutState().layout,e.getLayoutState().layout);N(function(r){e.setProjectionTargetAxis(r,t[r].min,t[r].max,!0)})}var tn=function(e){var n=e.treeType,t=n===void 0?"":n,r=e.build,a=e.getBaseTarget,i=e.makeTargetAnimatable,o=e.measureViewportBox,u=e.render,d=e.readValueFromInstance,l=e.resetTransform,s=e.restoreTransform,p=e.removeValueFromRenderState,c=e.sortNodePosition,m=e.scrapeMotionValuesFromProps;return function(v,y){var g=v.parent,_=v.props,T=v.presenceId,L=v.blockInitialAnimation,O=v.visualState;y===void 0&&(y={});var w=O.latestValues,A=O.renderState,R,M=Xo(),E=ko(),B,Y=E,ae=w,Z,H=kr(),de,ie=!1,oe=new Map,ve=new Map,on={},pe,W=f.__assign({},w),ee;function me(){R&&(C.isProjectionReady()&&(Hn(Y.targetFinal,Y.target,ae),ur(H.deltaFinal,H.layoutCorrected,Y.targetFinal,w)),ge(),u(R,A))}function ge(){var h=w;if(de&&de.isActive()){var b=de.getCrossfadeState(C);b&&(h=b)}r(C,A,h,Y,H,y,_)}function xa(){M.notifyUpdate(w)}function Zu(){if(C.isProjectionReady()){var h=H.delta,b=H.treeScale,D=b.x,j=b.y,X=H.deltaTransform;No(H,Y,C.path,w),ie&&C.notifyViewportBoxUpdate(Y.target,h),ie=!1;var q=en(h,b);(q!==X||D!==b.x||j!==b.y)&&C.scheduleRender(),H.deltaTransform=q}}function qu(){C.layoutTree.forEach(Go)}function $u(h,b){var D=b.onChange(function(X){w[h]=X,_.onUpdate&&$.default.update(xa,!1,!0)}),j=b.onRenderRequest(C.scheduleRender);ve.set(h,function(){D(),j()})}var _a=m(_);for(var Gn in _a){var Pa=_a[Gn];w[Gn]!==void 0&&Q(Pa)&&Pa.set(w[Gn],!1)}var ba=Be(_),Zn=at(_),C=f.__assign(f.__assign({treeType:t,current:null,depth:g?g.depth+1:0,parent:g,children:new Set,path:g?f.__spreadArray(f.__spreadArray([],f.__read(g.path)),[g]):[],layoutTree:g?g.layoutTree:new Yr,presenceId:T,projection:E,variantChildren:Zn?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(g!=null&&g.isMounted()),blockInitialAnimation:L,isMounted:function(){return!!R},mount:function(h){R=C.current=h,C.pointTo(C),Zn&&g&&!ba&&(ee=g==null?void 0:g.addVariantChild(C)),g==null||g.children.add(C)},unmount:function(){U.cancelSync.update(xa),U.cancelSync.render(me),U.cancelSync.preRender(C.updateLayoutProjection),ve.forEach(function(h){return h()}),C.stopLayoutAnimation(),C.layoutTree.remove(C),ee==null||ee(),g==null||g.children.delete(C),Z==null||Z(),M.clearAllListeners()},addVariantChild:function(h){var b,D=C.getClosestVariantNode();if(D)return(b=D.variantChildren)===null||b===void 0||b.add(h),function(){return D.variantChildren.delete(h)}},sortNodePosition:function(h){return!c||t!==h.treeType?0:c(C.getInstance(),h.getInstance())},getClosestVariantNode:function(){return Zn?C:g==null?void 0:g.getClosestVariantNode()},scheduleUpdateLayoutProjection:g?g.scheduleUpdateLayoutProjection:function(){return $.default.preRender(C.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return _.layoutId},getInstance:function(){return R},getStaticValue:function(h){return w[h]},setStaticValue:function(h,b){return w[h]=b},getLatestValues:function(){return w},setVisibility:function(h){C.isVisible!==h&&(C.isVisible=h,C.scheduleRender())},makeTargetAnimatable:function(h,b){return b===void 0&&(b=!0),i(C,h,_,b)},addValue:function(h,b){C.hasValue(h)&&C.removeValue(h),oe.set(h,b),w[h]=b.get(),$u(h,b)},removeValue:function(h){var b;oe.delete(h),(b=ve.get(h))===null||b===void 0||b(),ve.delete(h),delete w[h],p(h,A)},hasValue:function(h){return oe.has(h)},getValue:function(h,b){var D=oe.get(h);return D===void 0&&b!==void 0&&(D=k(b),C.addValue(h,D)),D},forEachValue:function(h){return oe.forEach(h)},readValue:function(h){var b;return(b=w[h])!==null&&b!==void 0?b:d(R,h,y)},setBaseTarget:function(h,b){W[h]=b},getBaseTarget:function(h){if(a){var b=a(_,h);if(b!==void 0&&!Q(b))return b}return W[h]}},M),{build:function(){return ge(),A},scheduleRender:function(){$.default.render(me,!1,!0)},syncRender:me,setProps:function(h){_=h,M.updatePropListeners(h),on=Yo(C,m(_),on)},getProps:function(){return _},getVariant:function(h){var b;return(b=_.variants)===null||b===void 0?void 0:b[h]},getDefaultTransition:function(){return _.transition},getVariantContext:function(h){if(h===void 0&&(h=!1),h)return g==null?void 0:g.getVariantContext();if(!ba){var b=(g==null?void 0:g.getVariantContext())||{};return _.initial!==void 0&&(b.initial=_.initial),b}for(var D={},j=0;j<Zo;j++){var X=Nr[j],q=_[X];(J(q)||q===!1)&&(D[X]=q)}return D},enableLayoutProjection:function(){E.isEnabled=!0,C.layoutTree.add(C)},lockProjectionTarget:function(){E.isTargetLocked=!0},unlockProjectionTarget:function(){C.stopLayoutAnimation(),E.isTargetLocked=!1},getLayoutState:function(){return H},setCrossfader:function(h){de=h},isProjectionReady:function(){return E.isEnabled&&E.isHydrated&&H.isHydrated},startLayoutAnimation:function(h,b,D){D===void 0&&(D=!1);var j=C.getProjectionAnimationProgress()[h],X=D?E.relativeTarget[h]:E.target[h],q=X.min,un=X.max,sn=un-q;return j.clearListeners(),j.set(q),j.set(q),j.onChange(function(fn){C.setProjectionTargetAxis(h,fn,fn+sn,D)}),C.animateMotionValue(h,j,0,b)},stopLayoutAnimation:function(){N(function(h){return C.getProjectionAnimationProgress()[h].stop()})},measureViewportBox:function(h){h===void 0&&(h=!0);var b=o(R,y);return h||Vr(b,w),b},getProjectionAnimationProgress:function(){return pe||(pe={x:k(0),y:k(0)}),pe},setProjectionTargetAxis:function(h,b,D,j){j===void 0&&(j=!1);var X;j?(E.relativeTarget||(E.relativeTarget=re()),X=E.relativeTarget[h]):(E.relativeTarget=void 0,X=E.target[h]),E.isHydrated=!0,X.min=b,X.max=D,ie=!0,M.notifySetAxisTarget()},rebaseProjectionTarget:function(h,b){b===void 0&&(b=H.layout);var D=C.getProjectionAnimationProgress(),j=D.x,X=D.y,q=!E.relativeTarget&&!E.isTargetLocked&&!j.isAnimating()&&!X.isAnimating();(h||q)&&N(function(un){var sn=b[un],fn=sn.min,Ju=sn.max;C.setProjectionTargetAxis(un,fn,Ju)})},notifyLayoutReady:function(h){Ko(C),C.notifyLayoutUpdate(H.layout,C.prevViewportBox||H.layout,h)},resetTransform:function(){return l(C,R,_)},restoreTransform:function(){return s(R,A)},updateLayoutProjection:Zu,updateTreeLayoutProjection:function(){C.layoutTree.forEach(Wo),$.default.preRender(qu,!1,!0)},getProjectionParent:function(){if(B===void 0){for(var h=!1,b=C.path.length-1;b>=0;b--){var D=C.path[b];if(D.projection.isEnabled){h=D;break}}B=h}return B},resolveRelativeTargetBox:function(){var h=C.getProjectionParent();if(!(!E.relativeTarget||!h)&&(oo(E,h.projection),xr(h))){var b=E.target;Hn(b,b,h.getLatestValues())}},shouldResetTransform:function(){return!!_._layoutResetTransform},pointTo:function(h){Y=h.projection,ae=h.getLatestValues(),Z==null||Z(),Z=V.pipe(h.onSetAxisTarget(C.scheduleUpdateLayoutProjection),h.onLayoutAnimationComplete(function(){var b;C.isPresent?C.presence=z.Present:(b=C.layoutSafeToRemove)===null||b===void 0||b.call(C)}))},isPresent:!0,presence:z.Entering});return C}};function Wo(e){e.resolveRelativeTargetBox()}function Go(e){e.updateLayoutProjection()}var Nr=f.__spreadArray(["initial"],f.__read(On)),Zo=Nr.length,qo=new Set(["width","height","top","left","right","bottom","x","y"]),Kr=function(e){return qo.has(e)},$o=function(e){return Object.keys(e).some(Kr)},Wr=function(e,n){e.set(n,!1),e.set(n)},rn=function(e){return e===x.number||e===x.px},Gr;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(Gr||(Gr={}));var Zr=function(e,n){return parseFloat(e.split(", ")[n])},qr=function(e,n){return function(t,r){var a=r.transform;if(a==="none"||!a)return 0;var i=a.match(/^matrix3d\((.+)\)$/);if(i)return Zr(i[1],n);var o=a.match(/^matrix\((.+)\)$/);return o?Zr(o[1],e):0}},Jo=new Set(["x","y","z"]),Qo=Ae.filter(function(e){return!Jo.has(e)});function eu(e){var n=[];return Qo.forEach(function(t){var r=e.getValue(t);r!==void 0&&(n.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),n.length&&e.syncRender(),n}var $r={width:function(e){var n=e.x;return n.max-n.min},height:function(e){var n=e.y;return n.max-n.min},top:function(e,n){var t=n.top;return parseFloat(t)},left:function(e,n){var t=n.left;return parseFloat(t)},bottom:function(e,n){var t=e.y,r=n.top;return parseFloat(r)+(t.max-t.min)},right:function(e,n){var t=e.x,r=n.left;return parseFloat(r)+(t.max-t.min)},x:qr(4,13),y:qr(5,14)},nu=function(e,n,t){var r=n.measureViewportBox(),a=n.getInstance(),i=getComputedStyle(a),o=i.display,u=i.top,d=i.left,l=i.bottom,s=i.right,p=i.transform,c={top:u,left:d,bottom:l,right:s,transform:p};o==="none"&&n.setStaticValue("display",e.display||"block"),n.syncRender();var m=n.measureViewportBox();return t.forEach(function(v){var y=n.getValue(v);Wr(y,$r[v](r,c)),e[v]=$r[v](m,i)}),e},tu=function(e,n,t,r){t===void 0&&(t={}),r===void 0&&(r={}),n=f.__assign({},n),r=f.__assign({},r);var a=Object.keys(n).filter(Kr),i=[],o=!1,u=[];if(a.forEach(function(l){var s=e.getValue(l);if(e.hasValue(l)){var p=t[l],c=n[l],m=Ne(p),v;if(Ee(c))for(var y=c.length,g=c[0]===null?1:0;g<y;g++)v?G.invariant(Ne(c[g])===v,"All keyframes must be of the same type"):(v=Ne(c[g]),G.invariant(v===m||rn(m)&&rn(v),"Keyframes must be of the same dimension as the current value"));else v=Ne(c);if(m!==v)if(rn(m)&&rn(v)){var _=s.get();typeof _=="string"&&s.set(parseFloat(_)),typeof c=="string"?n[l]=parseFloat(c):Array.isArray(c)&&v===x.px&&(n[l]=c.map(parseFloat))}else m!=null&&m.transform&&(v!=null&&v.transform)&&(p===0||c===0)?p===0?s.set(v.transform(p)):n[l]=m.transform(c):(o||(i=eu(e),o=!0),u.push(l),r[l]=r[l]!==void 0?r[l]:n[l],Wr(s,c))}}),u.length){var d=nu(n,e,u);return i.length&&i.forEach(function(l){var s=f.__read(l,2),p=s[0],c=s[1];e.getValue(p).set(c)}),e.syncRender(),{target:d,transitionEnd:r}}else return{target:n,transitionEnd:r}};function ru(e,n,t,r){return $o(n)?tu(e,n,t,r):{target:n,transitionEnd:r}}var au=function(e,n,t,r){var a=Eo(e,n,r);return n=a.target,r=a.transitionEnd,ru(e,n,t,r)};function iu(e){return window.getComputedStyle(e)}var Jr={treeType:"dom",readValueFromInstance:function(e,n){if(je(n)){var t=Ln(n);return t&&t.default||0}else{var r=iu(e);return(lt(n)?r.getPropertyValue(n):r[n])||0}},sortNodePosition:function(e,n){return e.compareDocumentPosition(n)&2?1:-1},getBaseTarget:function(e,n){var t;return(t=e.style)===null||t===void 0?void 0:t[n]},measureViewportBox:function(e,n){var t=n.transformPagePoint;return gr(e,t)},resetTransform:function(e,n,t){var r=t.transformTemplate;n.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,n){e.style.transform=n.style.transform},removeValueFromRenderState:function(e,n){var t=n.vars,r=n.style;delete t[e],delete r[e]},makeTargetAnimatable:function(e,n,t,r){var a=t.transformValues;r===void 0&&(r=!0);var i=n.transition,o=n.transitionEnd,u=f.__rest(n,["transition","transitionEnd"]),d=qt(u,i||{},e);if(a&&(o&&(o=a(o)),u&&(u=a(u)),d&&(d=a(d))),r){Zt(e,u,d);var l=au(e,u,d,o);o=l.transitionEnd,u=l.target}return f.__assign({transition:i,transitionEnd:o},u)},scrapeMotionValuesFromProps:bn,build:function(e,n,t,r,a,i,o){e.isVisible!==void 0&&(n.style.visibility=e.isVisible?"visible":"hidden");var u=r.isEnabled&&a.isHydrated;yn(n,t,r,a,i,o.transformTemplate,u?en:void 0,u?Xr:void 0)},render:yt},ou=tn(Jr),uu=tn(f.__assign(f.__assign({},Jr),{getBaseTarget:function(e,n){return e[n]},readValueFromInstance:function(e,n){var t;return je(n)?((t=Ln(n))===null||t===void 0?void 0:t.default)||0:(n=xt.has(n)?n:ht(n),e.getAttribute(n))},scrapeMotionValuesFromProps:Pt,build:function(e,n,t,r,a,i,o){var u=r.isEnabled&&a.isHydrated;Pn(n,t,r,a,i,o.transformTemplate,u?en:void 0,u?Xr:void 0)},render:_t})),Xn=function(e,n){return gn(e)?uu(n,{enableHardwareAcceleration:!1}):ou(n,{enableHardwareAcceleration:!0})},Qr=f.__assign(f.__assign(f.__assign(f.__assign({},Jt),It),Rr),Hr),su=ot(function(e,n){return Tn(e,n,Qr,Xn)});function fu(e){return mn(Tn(e,{forwardMotionProps:!1},Qr,Xn))}var lu=ot(Tn);function cu(){var e=P.useRef(!1),n=f.__read(P.useState(0),2),t=n[0],r=n[1];return Vn(function(){return e.current=!0}),P.useCallback(function(){!e.current&&r(t+1)},[t])}var ea=0;function du(){var e=ea;return ea++,e}var Yn=function(e){var n=e.children,t=e.initial,r=e.isPresent,a=e.onExitComplete,i=e.custom,o=e.presenceAffectsLayout,u=K(vu),d=K(du),l=P.useMemo(function(){return{id:d,initial:t,isPresent:r,custom:i,onExitComplete:function(s){u.set(s,!0);var p=!0;u.forEach(function(c){c||(p=!1)}),p&&(a==null||a())},register:function(s){return u.set(s,!1),function(){return u.delete(s)}}}},o?void 0:[r]);return P.useMemo(function(){u.forEach(function(s,p){return u.set(p,!1)})},[r]),F.useEffect(function(){!r&&!u.size&&(a==null||a())},[r]),F.createElement(ue.Provider,{value:l},n)};function vu(){return new Map}function _e(e){return e.key||""}function pu(e,n){e.forEach(function(t){var r=_e(t);n.set(r,t)})}function mu(e){var n=[];return P.Children.forEach(e,function(t){P.isValidElement(t)&&n.push(t)}),n}var gu=function(e){var n=e.children,t=e.custom,r=e.initial,a=r===void 0?!0:r,i=e.onExitComplete,o=e.exitBeforeEnter,u=e.presenceAffectsLayout,d=u===void 0?!0:u,l=cu(),s=P.useContext(Qe);ce(s)&&(l=s.forceUpdate);var p=P.useRef(!0),c=mu(n),m=P.useRef(c),v=P.useRef(new Map).current,y=P.useRef(new Set).current;if(pu(c,v),p.current)return p.current=!1,F.createElement(F.Fragment,null,c.map(function(A){return F.createElement(Yn,{key:_e(A),isPresent:!0,initial:a?void 0:!1,presenceAffectsLayout:d},A)}));for(var g=f.__spreadArray([],f.__read(c)),_=m.current.map(_e),T=c.map(_e),L=_.length,O=0;O<L;O++){var w=_[O];T.indexOf(w)===-1?y.add(w):y.delete(w)}return o&&y.size&&(g=[]),y.forEach(function(A){if(T.indexOf(A)===-1){var R=v.get(A);if(R){var M=_.indexOf(A),E=function(){v.delete(A),y.delete(A);var B=m.current.findIndex(function(Y){return Y.key===A});m.current.splice(B,1),y.size||(m.current=c,l(),i&&i())};g.splice(M,0,F.createElement(Yn,{key:_e(R),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:d},R))}}}),g=g.map(function(A){var R=A.key;return y.has(R)?A:F.createElement(Yn,{key:_e(A),isPresent:!0,presenceAffectsLayout:d},A)}),m.current=g,F.createElement(F.Fragment,null,y.size?g:g.map(function(A){return P.cloneElement(A)}))};function na(e,n,t){t===void 0&&(t={});var r=Q(e)?e:k(e);return Le("",r,n,t),{stop:function(){return r.stop()}}}function ta(){var e=k(1),n={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},t=f.__assign({},n),r={},a={},i=!1,o=null,u=0;function d(s,p){var c=n.lead,m=n.follow;i=!0,o=null;var v=!1,y=function(){v=!0,c&&c.scheduleRender(),m&&m.scheduleRender()},g=function(){i=!1,o=U.getFrameData().timestamp};return p=p&&Xe(p,"crossfade"),na(e,s,f.__assign(f.__assign({},p),{onUpdate:y,onComplete:function(){v?g():(e.set(s),$.default.read(g)),y()}}))}function l(){var s,p,c=U.getFrameData().timestamp,m=n.lead,v=n.follow;if(!(c===u||!m)){u=c;var y=m.getLatestValues();Object.assign(r,y);var g=v?v.getLatestValues():n.prevValues;Object.assign(a,g);var _=e.get(),T=(s=y.opacity)!==null&&s!==void 0?s:1,L=(p=g==null?void 0:g.opacity)!==null&&p!==void 0?p:1;n.crossfadeOpacity&&v?(r.opacity=V.mix(v.isVisible!==!1?0:L,T,hu(_)),a.opacity=n.preserveFollowOpacity?L:V.mix(L,0,yu(_))):v||(r.opacity=V.mix(L,T,_)),_u(r,a,y,g||{},!!v,_)}}return{isActive:function(){return r&&(i||U.getFrameData().timestamp===o)},fromLead:function(s){return d(0,s)},toLead:function(s){var p=0;return!n.prevValues&&!n.follow?p=1:t.lead===n.follow&&t.follow===n.lead&&(p=1-e.get()),e.set(p),d(1,s)},reset:function(){return e.set(1)},stop:function(){return e.stop()},getCrossfadeState:function(s){if(l(),s===n.lead)return r;if(s===n.follow)return a},setOptions:function(s){t=n,n=s,r={},a={}},getLatestValues:function(){return r}}}var hu=ra(0,.5,V.circOut),yu=ra(.5,.95,V.linear);function ra(e,n,t){return function(r){return r<e?0:r>n?1:t(V.progress(e,n,r))}}var aa=["TopLeft","TopRight","BottomLeft","BottomRight"],xu=aa.length;function _u(e,n,t,r,a,i){for(var o=0;o<xu;o++){var u="border"+aa[o]+"Radius",d=ia(r,u),l=ia(t,u);if(!(d===void 0&&l===void 0)&&(d||(d=0),l||(l=0),typeof d=="number"&&typeof l=="number")){var s=Math.max(V.mix(d,l,i),0);e[u]=n[u]=s}}if(r.rotate||t.rotate){var p=V.mix(r.rotate||0,t.rotate||0,i);e.rotate=n.rotate=p}!a&&t.backgroundColor&&r.backgroundColor&&(e.backgroundColor=n.backgroundColor=V.mixColor(r.backgroundColor,t.backgroundColor)(i))}function ia(e,n){var t;return(t=e[n])!==null&&t!==void 0?t:e.borderRadius}function Pu(){var e=new Set,n={leadIsExiting:!1},t=f.__assign({},n),r,a,i,o=ta(),u=!1;function d(){return n.follow?n.follow.prevViewportBox:a}function l(){var s;return(s=n.follow)===null||s===void 0?void 0:s.getLayoutState().layout}return{add:function(s){s.setCrossfader(o),e.add(s),i&&(s.prevDragCursor=i),n.lead||(n.lead=s)},remove:function(s){e.delete(s)},getLead:function(){return n.lead},updateSnapshot:function(){if(n.lead){r=o.isActive()?o.getLatestValues():n.lead.getLatestValues(),a=n.lead.prevViewportBox;var s=wr.get(n.lead);s&&s.isDragging&&(i=s.cursorProgress)}},clearSnapshot:function(){i=a=void 0},updateLeadAndFollow:function(){var s;t=f.__assign({},n);for(var p,c,m=Array.from(e),v=m.length;v--;v>=0){var y=m[v];if(p&&(c??(c=y)),p??(p=y),p&&c)break}n.lead=p,n.follow=c,n.leadIsExiting=((s=n.lead)===null||s===void 0?void 0:s.presence)===z.Exiting,o.setOptions({lead:p,follow:c,prevValues:r,crossfadeOpacity:(c==null?void 0:c.isPresenceRoot)||(p==null?void 0:p.isPresenceRoot)}),n.lead!==t.follow&&(t.lead!==n.lead||t.leadIsExiting!==n.leadIsExiting)&&(u=!0)},animate:function(s,p){var c;if(p===void 0&&(p=!1),s===n.lead){p?s.pointTo(n.lead):s.setVisibility(!0);var m={},v=(c=n.follow)===null||c===void 0?void 0:c.getProjectionParent();if(v&&(m.prevParent=v),s.presence===z.Entering?m.originBox=d():s.presence===z.Exiting&&(m.targetBox=l()),u){u=!1;var y=s.getDefaultTransition();s.presence===z.Entering?o.toLead(y):o.fromLead(y)}s.notifyLayoutReady(m)}else p?n.lead&&s.pointTo(n.lead):s.setVisibility(!1)}}}function bu(e){for(var n=!1,t={},r=0;r<hn.length;r++){var a=hn[r],i="rotate"+a;!e.hasValue(i)||e.getStaticValue(i)===0||(n=!0,t[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(n){e.syncRender();for(var i in t)e.setStaticValue(i,t[i]);e.scheduleRender()}}var Su=function(e){f.__extends(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.children=new Set,t.stacks=new Map,t.hasMounted=!1,t.updateScheduled=!1,t.renderScheduled=!1,t.syncContext=f.__assign(f.__assign({},Je()),{syncUpdate:function(r){return t.scheduleUpdate(r)},forceUpdate:function(){t.syncContext=f.__assign({},t.syncContext),t.scheduleUpdate(!0)},register:function(r){return t.addChild(r)},remove:function(r){return t.removeChild(r)}}),t}return n.prototype.componentDidMount=function(){this.hasMounted=!0},n.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},n.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},n.prototype.startLayoutAnimation=function(){var t=this;this.renderScheduled=this.updateScheduled=!1;var r=this.props.type;this.children.forEach(function(i){i.isPresent?i.presence!==z.Entering&&(i.presence=i.presence===z.Exiting?z.Entering:z.Present):i.presence=z.Exiting}),this.updateStacks();var a={layoutReady:function(i){if(i.getLayoutId()!==void 0){var o=t.getStack(i);o.animate(i,r==="crossfade")}else i.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach(function(i){return t.syncContext.add(i)}),this.syncContext.flush(a),this.stacks.forEach(function(i){return i.clearSnapshot()})},n.prototype.updateStacks=function(){this.stacks.forEach(function(t){return t.updateLeadAndFollow()})},n.prototype.scheduleUpdate=function(t){t===void 0&&(t=!1),(t||!this.updateScheduled)&&(this.updateScheduled=!0,this.children.forEach(function(r){bu(r),r.shouldResetTransform()&&r.resetTransform()}),this.children.forEach(jn),this.stacks.forEach(function(r){return r.updateSnapshot()}),(t||!this.renderScheduled)&&(this.renderScheduled=!0,this.forceUpdate()))},n.prototype.addChild=function(t){this.children.add(t),this.addToStack(t),t.presence=this.hasMounted?z.Entering:z.Present},n.prototype.removeChild=function(t){this.scheduleUpdate(),this.children.delete(t),this.removeFromStack(t)},n.prototype.addToStack=function(t){var r=this.getStack(t);r==null||r.add(t)},n.prototype.removeFromStack=function(t){var r=this.getStack(t);r==null||r.remove(t)},n.prototype.getStack=function(t){var r=t.getLayoutId();if(r!==void 0)return!this.stacks.has(r)&&this.stacks.set(r,Pu()),this.stacks.get(r)},n.prototype.render=function(){return F.createElement(Qe.Provider,{value:this.syncContext},this.props.children)},n.contextType=Se,n}(F.Component);function Cu(e){var n=e.children,t=f.__rest(e,["children"]);t=f.__assign(f.__assign({},P.useContext(te)),t),t.isStatic=K(function(){return t.isStatic});var r=typeof t.transition=="object"?t.transition.toString():"",a=P.useMemo(function(){return t},[r,t.transformPagePoint]);return F.createElement(te.Provider,{value:a},n)}function Tu(e){var n=e.children,t=e.features,r=e.strict,a=r===void 0?!1:r,i=f.__read(P.useState(!Nn(t)),2),o=i[1],u=P.useRef(void 0);if(!Nn(t)){var d=t.renderer,l=f.__rest(t,["renderer"]);u.current=d,cn(l)}return P.useEffect(function(){Nn(t)&&t().then(function(s){var p=s.renderer,c=f.__rest(s,["renderer"]);cn(c),u.current=p,o(!0)})},[]),F.createElement(dn.Provider,{value:{renderer:u.current,strict:a}},n)}function Nn(e){return typeof e=="function"}var oa=f.__assign(f.__assign({renderer:Xn},Jt),It),Au=f.__assign(f.__assign(f.__assign({},oa),Rr),Hr);function Pe(e){var n=K(function(){return k(e)}),t=P.useContext(te).isStatic;if(t){var r=f.__read(P.useState(e),2),a=r[1];P.useEffect(function(){return n.onChange(a)},[])}return n}function ua(e,n){P.useEffect(function(){if(Q(e))return e.onChange(n)},[n])}function Vu(e,n){P.useEffect(function(){var t=e.map(function(r){return r.onChange(n)});return function(){return t.forEach(function(r){return r()})}})}function sa(e,n){var t=Pe(n()),r=function(){return t.set(n())};return r(),Vu(e,function(){return $.default.update(r,!1,!0)}),t}function Eu(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=e.length;function a(){for(var i="",o=0;o<r;o++){i+=e[o];var u=n[o];u&&(i+=n[o].get())}return i}return sa(n,a)}var Lu=function(e){return typeof e=="object"&&e.mix},wu=function(e){return Lu(e)?e.mix:void 0};function fa(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=!Array.isArray(e[0]),r=t?0:-1,a=e[0+r],i=e[1+r],o=e[2+r],u=e[3+r],d=V.interpolate(i,o,f.__assign({mixer:wu(o[0])},u));return t?d(a):d}function Kn(e,n,t,r){var a=typeof n=="function"?n:fa(n,t,r);return Array.isArray(e)?la(e,a):la([e],function(i){var o=f.__read(i,1),u=o[0];return a(u)})}function la(e,n){var t=K(function(){return[]});return sa(e,function(){t.length=0;for(var r=e.length,a=0;a<r;a++)t[a]=e[a].get();return n(t)})}function Mu(e,n){n===void 0&&(n={});var t=P.useContext(te).isStatic,r=P.useRef(null),a=Pe(Q(e)?e.get():e);return P.useMemo(function(){return a.attach(function(i,o){return t?o(i):(r.current&&r.current.stop(),r.current=V.animate(f.__assign(f.__assign({from:a.get(),to:i,velocity:a.getVelocity()},n),{onUpdate:o})),a.get())})},Object.values(n)),ua(e,function(i){return a.set(parseFloat(i))}),a}function Ru(e){var n=Pe(e.getVelocity());return P.useEffect(function(){return e.velocityUpdateSubscribers.add(function(t){n.set(t)})},[e]),n}function ca(){return{scrollX:k(0),scrollY:k(0),scrollXProgress:k(0),scrollYProgress:k(0)}}function da(e,n,t){t.set(!e||!n?0:e/n)}function va(e,n){var t=function(){var r=n(),a=r.xOffset,i=r.yOffset,o=r.xMaxOffset,u=r.yMaxOffset;e.scrollX.set(a),e.scrollY.set(i),da(a,o,e.scrollXProgress),da(i,u,e.scrollYProgress)};return t(),t}var Du=function(e){return function(){return{xOffset:e.scrollLeft,yOffset:e.scrollTop,xMaxOffset:e.scrollWidth-e.offsetWidth,yMaxOffset:e.scrollHeight-e.offsetHeight}}};function Ou(e){var n=K(ca);return Ie(function(){var t=e.current;if(G.invariant(!!t,"ref provided to useScroll must be passed into a HTML element."),!!t){var r=va(n,Du(t)),a=se(t,"scroll",r,{passive:!0}),i=se(t,"resize",r);return function(){a(),i()}}},[]),n}var an;function Iu(){return{xOffset:window.pageXOffset,yOffset:window.pageYOffset,xMaxOffset:document.body.clientWidth-window.innerWidth,yMaxOffset:document.body.clientHeight-window.innerHeight}}var pa=!1;function Fu(){if(pa=!0,!(typeof window>"u")){var e=va(an,Iu);se(window,"scroll",e,{passive:!0}),se(window,"resize",e)}}function Bu(){return an||(an=ca()),Ie(function(){!pa&&Fu()},[]),an}var be;function ju(){if(be=k(null),!(typeof window>"u"))if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),n=function(){return be.set(e.matches)};e.addListener(n),n()}else be.set(!1)}function Uu(){!be&&ju();var e=f.__read(P.useState(be.get()),2),n=e[0],t=e[1];return ua(be,t),n}function ma(){var e=!1,n=[],t=new Set,r={subscribe:function(a){return t.add(a),function(){return void t.delete(a)}},start:function(a,i){if(e){var o=[];return t.forEach(function(u){o.push(Ke(u,a,{transitionOverride:i}))}),Promise.all(o)}else return new Promise(function(u){n.push({animation:[a,i],resolve:u})})},set:function(a){return G.invariant(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(function(i){Hi(i,a)})},stop:function(){t.forEach(function(a){Xi(a)})},mount:function(){return e=!0,n.forEach(function(a){var i=a.animation,o=a.resolve;r.start.apply(r,f.__spreadArray([],f.__read(i))).then(o)}),function(){e=!1,r.stop()}}};return r}function Hu(){var e=K(ma);return P.useEffect(e.mount,[]),e}function ku(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=P.useRef(0),r=f.__read(P.useState(e[t.current]),2),a=r[0],i=r[1];return[a,function(o){t.current=typeof o!="number"?V.wrap(0,e.length,t.current+1):o,i(e[t.current])}]}var ga=function(){function e(){this.componentControls=new Set}return e.prototype.subscribe=function(n){var t=this;return this.componentControls.add(n),function(){return t.componentControls.delete(n)}},e.prototype.start=function(n,t){this.componentControls.forEach(function(r){r.start(n.nativeEvent||n,t)})},e.prototype.updateConstraints=function(n){n===void 0&&(n=!0),this.componentControls.forEach(function(t){t.updateConstraints()}),n&&Re()},e}(),zu=function(){return new ga};function Xu(){return K(zu)}var Wn=function(){return{}},Yu=tn({build:function(){},measureViewportBox:re,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:Wn,readValueFromInstance:function(e,n,t){return t.initialState[n]||0},makeTargetAnimatable:function(e,n){var t=n.transition,r=n.transitionEnd,a=f.__rest(n,["transition","transitionEnd"]),i=qt(a,t||{},e);return Zt(e,a,i),f.__assign({transition:t,transitionEnd:r},a)}}),Nu=Cn({scrapeMotionValuesFromProps:Wn,createRenderState:Wn});function Ku(e){var n=f.__read(P.useState(e),2),t=n[0],r=n[1],a=Nu({},!1),i=K(function(){return Yu({props:{},visualState:a},{initialState:e})});P.useEffect(function(){return i.mount({}),i.unmount()},[]),P.useEffect(function(){i.setProps({onUpdate:function(u){return r(f.__assign({},u))}})});var o=K(function(){return function(u){return Ke(i,u)}});return[t,o]}var Wu=1e5,ha=function(e){return e>.001?1/e:Wu},ya=!1;function Gu(e){var n=Pe(1),t=Pe(1),r=Qn();G.invariant(!!(e||r),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),G.warning(ya,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),ya=!0,e?(n=e.scaleX||n,t=e.scaleY||t):r&&(n=r.getValue("scaleX",1),t=r.getValue("scaleY",1));var a=Kn(n,ha),i=Kn(t,ha);return{scaleX:a,scaleY:i}}S.AnimatePresence=gu,S.AnimateSharedLayout=Su,S.DragControls=ga,S.FlatTree=Yr,S.FramerTreeLayoutContext=Ur,S.LayoutGroupContext=nt,S.LazyMotion=Tu,S.MotionConfig=Cu,S.MotionConfigContext=te,S.MotionValue=Kt,S.PresenceContext=ue,S.SharedLayoutContext=Qe,S.addScaleCorrection=ut,S.animate=na,S.animateVisualElement=Ke,S.animationControls=ma,S.batchLayout=qe,S.createBatcher=Je,S.createCrossfader=ta,S.createDomMotionComponent=fu,S.createMotionComponent=mn,S.domAnimation=oa,S.domMax=Au,S.flushLayout=Re,S.isValidMotionProp=Ve,S.m=lu,S.motion=su,S.motionValue=k,S.resolveMotionValue=bt,S.snapshotViewportBox=jn,S.transform=fa,S.useAnimation=Hu,S.useCycle=ku,S.useDeprecatedAnimatedState=Ku,S.useDeprecatedInvertedScale=Gu,S.useDomEvent=Ue,S.useDragControls=Xu,S.useElementScroll=Ou,S.useIsPresent=Aa,S.useMotionTemplate=Eu,S.useMotionValue=Pe,S.usePresence=vn,S.useReducedMotion=Uu,S.useSpring=Mu,S.useTransform=Kn,S.useVelocity=Ru,S.useViewportScroll=Bu,S.visualElement=tn})(os);export{os as f};
